"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2967],{3222:function(e,t,a){a.d(t,{Z:function(){return d}});var l=a(92809),n=a(67294),i=a(38558),o=a(7067),r=a(35944);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=({pagination:e,loading:t=!1,fetchMoreFunc:a=(()=>{}),fetchLessFunc:l=(()=>{}),themeNameSpaces:c=[]})=>{const d=(0,o.L)(),{currentPage:m=1,lastPage:u=1}=e||{},p=m&&u,f=p&&m<u,h=p&&m===u&&1!==u,v=(0,n.useRef)(),$=(0,n.useRef)(!1),{0:g,1:b}=(0,n.useState)(h?null===d||void 0===d?void 0:d.load_less_pagination_label:null===d||void 0===d?void 0:d.load_more_pagination_label);return(0,n.useEffect)((()=>{$.current&&(f&&v.current&&v.current.focus(),b(h?null===d||void 0===d?void 0:d.load_less_pagination_label:null===d||void 0===d?void 0:d.load_more_pagination_label))}),[f,h,d]),(0,n.useEffect)((()=>{$.current=!0}),[]),t&&c.push(`${c[0]}.__disabled`),f||h?(0,r.tZ)(i.Button,s(s({},s(s({},f?{onClick:()=>a()}:{}),h?{onClick:()=>l()}:{})),{},{ref:v,themeNameSpaces:c,isDisabled:t,dataTest:"view-more",children:(0,r.BX)("div",{"aria-live":"polite",children:[t&&(0,r.BX)(i.Flex,{className:"justify-center",children:[(0,r.tZ)("span",{className:"sr-only",children:null===d||void 0===d?void 0:d.load_more_pagination_loading_label}),(0,r.tZ)(i.Spinner,{})]}),!t&&g]})})):(0,r.tZ)(r.HY,{})}},7005:function(e,t,a){a.d(t,{e:function(){return l}});const l=(e,t)=>t?[`_ctaSelector.${t}`]:[`${e}`]},54053:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var l=a(67294),n=a(38558),i=a(92809),o=a(27057),r=a(7005),c=a(47428),s=a(35944);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=({index:e,fare:t,cardSpacingClassFn:a,units:i,siteEdition:d,onFareClick:u,handleOnKeyDown:p,mainThemeNameSpace:f,themeNameSpace:h,labels:v,viewSettings:$,buttonRef:g})=>{const{showJourneyType:b=!0,includeCtaBtn:_,displayImages:w,showTravelClass:N,showFareTimestamp:x=!0,showDates:y,showTaxesFees:S,ctaButtonStyle:F}=$,{pageInfo:{deviceType:O}}=(0,l.useContext)(c.Z),T=`${f}._columns`,Z="w-7/12 "+(_?"lg:w-5/12":""),j="w-5/12 "+(_?"lg:w-4/12":""),k=_?"w-full lg:w-3/12":"w-0",{image:P,originCity:B,originAirportCode:C,destinationCity:D,destinationAirportCode:E,formattedDepartureDate:X,formattedReturnDate:A,priceLastSeen:L,formattedTotalPrice:R,formattedAdditionalFeesAmount:H,formattedTravelClass:I,formattedFlightType:K,redemption:M={}}=t,{unit:z,value:Y}=L||{},{formattedTaxAmount:J,formattedAmount:q,taxAmount:G}=M||{},Q="label--departure-date"!==(null===v||void 0===v?void 0:v["label--departure-date"])&&""===A?`${(null===v||void 0===v?void 0:v["label--departure-date"])||""} ${X}`:X,U=`${Q} - ${A}`,V=K,W=`${null===v||void 0===v?void 0:v["cmp-viewed"]} ${Y} ${i[z]} ${null===v||void 0===v?void 0:v["cmp-time-ago"]}`,ee=M&&q&&J,te=(null===v||void 0===v?void 0:v.fare_promo_label_redemption)||(null===v||void 0===v?void 0:v.fare_promo_label);let ae=`${B} (${C}) ${null===v||void 0===v?void 0:v["preposition--destination-place"]} ${D} (${E}) `;ae+=y?`${U} `||`${Q} `:"",ae+=(b?`${V} `:"")+(N?`${I} `:""),ae+=M&&q?`${te} `:`${null===v||void 0===v?void 0:v.fare_promo_label} `,ae+=ee?`${q} ${G?J:""}  `:`${q||R} `,ae+=x&&`${W}`;const le=(0,o.Ox)("dpa_columns");return(0,s.tZ)(n.Flex,{className:`w-full md:w-1/2 py-2 ${a(2,e+1)}`,dataTest:"card-container",children:(0,s.BX)(n.Flex,{className:"w-full",themeNameSpaces:[T,""+(_?`${T}._withCTA`:""),""+(w?`${T}._withImage`:"")],tabIndex:_||"mobile"===O?void 0:0,onKeyDown:e=>!_&&p(e,{original:m({siteEdition:d},t)}),onClick:()=>!_&&u({original:m({siteEdition:d},t)}),ref:_||"mobile"===O?void 0:g,children:[w&&P&&(0,s.tZ)(n.Flex,{className:"w-full flex-initial",children:(0,s.tZ)(n.Image,{src:P,isOptimized:!(0,o.Dc)(P),height:170,loading:"lazy",className:"object-cover w-full h-full",themeNameSpaces:[`${h}._image`],dataTest:"destination-img",alt:""})}),(0,s.BX)(n.Flex,{className:"w-full "+(w?"p-3":""),children:[(0,s.BX)(n.Flex,{className:`${Z} flex-col`,children:[(0,s.BX)(n.Text,{className:"inline",themeNameSpaces:[`${T}._origin`],dataTest:"origin-text",children:[`${B} (${C})`,(0,s.tZ)(n.Text,{as:"span",className:"px-1 inline",themeNameSpaces:[`${T}._destinationPreposition`],children:null===v||void 0===v?void 0:v["preposition--destination-place"]})]}),(0,s.tZ)(n.Flex,{className:"pb-1",themeNameSpaces:[`${T}._destination`],dataTest:"destination-text",children:`${D} (${E})`}),y&&(0,s.tZ)(n.Flex,{className:"",themeNameSpaces:[`${T}._dates`],dataTest:"dates",children:""!==A?U:Q}),(b||N)&&(0,s.BX)(n.Flex,{themeNameSpaces:[`${T}._fareType`],children:[b&&(0,s.tZ)(n.Text,{dataTest:"flight-type",children:V}),b&&N&&""!==I&&(0,s.tZ)(n.Flex,{ariaHidden:"true",className:"inline-flex px-1",children:null===v||void 0===v?void 0:v["cmp-separator"]}),N&&(0,s.tZ)(n.Text,{dataTest:"travel-class",children:I})]})]}),(0,s.BX)(n.Flex,{className:`${j} flex-col justify-center items-end`,children:[(0,s.tZ)(n.Flex,{className:"",themeNameSpaces:[`${T}._startingPrice`],children:M&&q?te:null===v||void 0===v?void 0:v.fare_promo_label}),ee?(0,s.BX)(s.HY,{children:[(0,s.tZ)(n.Flex,{themeNameSpaces:[`${T}._price`],dataTest:"redemption-amount",children:q}),G?(0,s.tZ)(n.Flex,{themeNameSpaces:[`${T}._priceTax`],dataTest:"redemption-tax",children:`+ ${J}`}):null]}):(0,s.BX)(n.Flex,{themeNameSpaces:[`${T}._price`],dataTest:"price",children:[`${q||R}`,(0,s.tZ)("span",{"aria-hidden":"true",children:"*"}),(0,s.tZ)("span",{className:"sr-only",children:null===v||void 0===v?void 0:v["cmp-fare-disclaimer"]})]}),S&&H&&(0,s.BX)(n.Flex,{className:"break-all",themeNameSpaces:[`${T}._fareFees`],dataTest:"additional-fees-amount",children:[(0,s.tZ)(n.Flex,{themeNameSpaces:[`${T}._fareFees._amount`],children:`+ ${H}`}),(0,s.tZ)(n.Flex,{className:"ltr:pl-1 rtl:pr-1",themeNameSpaces:[`${T}._fareFees._label`],children:`${v["cmp-fare-fees-label"]||""}`})]}),x&&(0,s.tZ)(n.Flex,{className:"",themeNameSpaces:[`${T}._lastSeen`],dataTest:"last-seen",children:W})]}),_&&(0,s.tZ)(n.Flex,{className:`${k} lg:flex-col justify-center items-end max-md:hidden`,children:(0,s.tZ)(n.Button,{className:"truncate lg:max-w-28 w-full",themeNameSpaces:(0,r.e)([`${T}._cta`],F),dataTest:"book-now",onKeyDown:e=>p(e,{original:m({siteEdition:d},t)}),onClick:()=>u({original:m({siteEdition:d},t)}),ariaLabel:`${ae} ${(null===v||void 0===v?void 0:v["fare-atom-call-to-action"])||"Book now"}`,ariaDescribedBy:le,ariaHasPopup:"dialog",ref:_&&"mobile"!==O?g:void 0,children:_?(null===v||void 0===v?void 0:v["fare-atom-call-to-action"])||"Book now":null===v||void 0===v?void 0:v.fare_call_to_action_label})}),(0,s.tZ)(n.Flex,{className:"w-full md:hidden pt-2",children:(0,s.tZ)(n.Button,{className:"w-full",themeNameSpaces:(0,r.e)([`${T}._cta`],F),dataTest:"view-more",onKeyDown:e=>p(e,{original:m({siteEdition:d},t)}),onClick:()=>u({original:m({siteEdition:d},t)}),ariaLabel:`${ae} ${(null===v||void 0===v?void 0:v["fare-atom-call-to-action"])||"Book now"}`,ref:"mobile"!==O&&_?void 0:g,children:_?(null===v||void 0===v?void 0:v["fare-atom-call-to-action"])||"Book now":null===v||void 0===v?void 0:v.fare_call_to_action_label})})]})]})},`${e+1}-${C}-${E}`)},p=a(3222),f=a(70917);var h=({siteEdition:e,fares:t,onFareClick:a,units:i,mainThemeNameSpace:o,themeNameSpace:r,fetchMoreFares:c,fetchPageLoadFares:d,labels:m,viewSettings:h,networkStatus:v})=>{const $=(0,l.useRef)(null),g=(0,l.useRef)(t.length);(0,l.useEffect)((()=>{t.length>g.current&&$.current&&$.current.focus(),g.current=t.length}),[t.length]);const{pagination:b}=h,_=(e,t)=>t%e!==0?"md:ltr:pr-4 md:rtl:pl-4":"",w=(e,t)=>{e&&e.key&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),a(t))};return(0,s.BX)(s.HY,{children:[(0,s.tZ)(n.Flex,{className:"flex-row",themeNameSpaces:[`${o}._container`],children:t.map(((t,l)=>{const n=l===g.current;return(0,f.az)(u,{index:l,fare:t,cardSpacingClassFn:_,units:i,siteEdition:e,onFareClick:a,handleOnKeyDown:w,mainThemeNameSpace:o,themeNameSpace:r,labels:m,viewSettings:h,buttonRef:n?$:void 0,key:`columns-${l}`})}))}),(0,s.tZ)(n.Flex,{className:"flex-row justify-center",children:(0,s.tZ)(p.Z,{pagination:b,loading:"fetchMore"===v,fetchMoreFunc:c,fetchLessFunc:d,themeNameSpaces:[`${o}._columns._loadMoreCta`]})})]})}}}]);