"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8466],{78466:function(e,t,a){a.r(t),a.d(t,{default:function(){return it}});var l=a(92809),r=a(67294),o=a(93633),i=a(85942),n=a(38558),s=a(91296),c=a.n(s),d=a(72307),u=a.n(d),p=a(7067),m=a(47428),g=a(35944);var f=({id:e,dataTest:t={},isLoading:a=!1,labels:{label:l="",errorMessage:o="",toggleLabel:i,multiSelected:s,allCheckboxLabel:c,counterLabel:d,optionLabel:u,clearBtnLabel:p,applyBtnLabel:f,backBtnLabel:h,placeholder:b="",noOptionsMessage:y="",clearButtonLabel:v=""}={},selectedOptions:C=[],options:_=[],onApply:N=(()=>{}),filtersThemeNameSpace:S="",inputThemeNameSpace:T=""})=>{const{pageInfo:{deviceType:O}}=(0,r.useContext)(m.Z);return(0,g.tZ)(n.InputGroup,{label:l,labelId:`${e}-label`,labelFor:`${e}-input`,errorMessage:o,errorMessageId:`${e}-error`,isLoading:a,hasValue:!!C,themeNameSpace:T,noPadding:!0,children:(0,g.tZ)(n.MultiSelector,{id:e,className:"w-full",deviceType:O,onOpenChange:()=>{},dataTest:t,labels:{brandedLabel:l,toggleLabel:i,multiSelected:s,allCheckboxLabel:c,counterLabel:d,optionLabel:u,clearBtnLabel:p,applyBtnLabel:f,backBtnLabel:h},isLoading:!1,options:_,selectedOptions:C,onApply:N,themeNameSpace:S})})};var h=({id:e,dataTest:t="",ariaLabel:a="",currencyCode:l="",isLoading:r=!1,labels:{label:o="",placeholder:i="",errorMessage:s="",clearButtonLabel:c=""}={},clearIcon:d="",value:u="",onChange:p=(()=>{}),onKeyUp:m=(()=>{}),onClear:f=(()=>{}),inputThemeNameSpace:h=""})=>(0,g.BX)(n.InputGroup,{label:o,labelId:`${e}-label`,labelFor:`${e}-input`,clearButtonLabel:c,errorMessage:s,errorMessageId:`${e}-error`,isLoading:r,hasValue:!!u,clearIcon:d,onClear:f,themeNameSpace:h,dataTest:t,children:[(0,g.tZ)(n.Box,{id:`${e}-currency`,className:"p-1 whitespace-no-wrap truncate",themeNameSpaces:[`${h}._currencyTag`],dataTest:`${t}-icon`,title:l,children:l}),(0,g.tZ)(n.Input,{id:`${e}-input`,value:u,placeholder:i,onKeyUp:e=>m(e.currentTarget.value),onChange:e=>{return t=e.currentTarget.value,/^\d*$/.test(t)&&t.length<=9?p(t):()=>{};var t},inputTheNameSpace:[`${h}.__inputText`],pattern:null,ariaLabelledBy:`${e}-label`,ariaLabel:a,ariaDescribedby:`${e}-currency`,inputMode:"numeric",className:"flex-1"})]});var b=({id:e,dataTest:t="",isLoading:a=!1,labels:{label:l="",errorMessage:r="",clearButtonLabel:o="",placeholder:i="",noOptionsMessage:s=""}={},value:c={label:"",value:""},options:d=[],onChange:u=(()=>{}),selectThemeNameSpace:p="",inputThemeNameSpace:m=""})=>{const f="string"===typeof c?{label:c,value:c}:c;return(0,g.tZ)(n.InputGroup,{label:l,labelId:`${e}-label`,labelFor:`${e}-input`,clearButtonLabel:o,errorMessage:r,errorMessageId:`${e}-error`,isLoading:a,hasValue:!!c,themeNameSpace:m,dataTest:t,noPadding:!0,children:(0,g.tZ)(n.Select,{name:"journey_type_filter",ariaLabel:l||"Journey Type Filter",className:"p-0",themeNameSpace:p,rightIcon:"keyboard_arrow_down",onChange:u,value:f,options:d,inputId:`${e}-input`,placeholder:i})})};var y=({sfmId:e,isLoading:t=!1,locationAttributeFiltersID:a="",locationAttributes:l=[],selectedLocationAttributes:o=[],handleOnApplyLocationAttrFilter:i=(()=>{}),filtersThemeNameSpace:s="",inputThemeNameSpace:c="",dataTest:d={}})=>{const{pageInfo:{deviceType:u}}=(0,r.useContext)(m.Z),f=(0,p.L)();return l&&l.filter((({id:e})=>e===a)).map((({id:l,name:r,tags:d})=>{const p=`sfm-attr-filter-${e}-${l}`,m=d&&d.map((({name:e,id:t})=>({label:e,value:t}))),h=o&&o.filter((({categoryId:e})=>e===l)).map((({tags:e})=>e&&e.map((e=>({value:e}))))).flat();return(0,g.tZ)(n.InputGroup,{id:`${p}-input-group`,label:r,labelId:`${p}-label`,labelFor:`${p}-input`,errorMessageId:`${p}-error`,isLoading:t,hasValue:!!h,themeNameSpace:c,noPadding:!0,children:(0,g.tZ)(n.MultiSelector,{id:`${p}-multiselector`,className:"w-full",deviceType:u,onOpenChange:()=>{},dataTest:{toggleDataTest:`attr-filter-${r}-filter`,allCheckboxDataTest:`attr-filter-${r}-all`,optionsDataTest:`attr-filter-${r}-options`,counterDataTest:`attr-filter-${r}-counter`,clearBtnDataTest:`attr-filter-${r}-clear`,applyBtnDataTest:`attr-filter-${r}-done`},labels:{brandedLabel:r,toggleLabel:null===f||void 0===f?void 0:f["cmp-attr-filter-toggle"],multiSelected:null===f||void 0===f?void 0:f["cmp-attr-filter-multiple-selected"],allCheckboxLabel:null===f||void 0===f?void 0:f["cmp-attr-filter-all"],counterLabel:null===f||void 0===f?void 0:f["cmp-attr-filter-counter-label"],optionLabel:(null===f||void 0===f?void 0:f["cmp-select-multiple-branded-travel-class-counter-option-label"])||"cmp-select-multiple-branded-travel-class-counter-option-label",clearBtnLabel:null===f||void 0===f?void 0:f["cmp-attr-filter-clear-btn"],applyBtnLabel:null===f||void 0===f?void 0:f["cmp-attr-filter-apply-btn"],backBtnLabel:null===f||void 0===f?void 0:f["button-previous"]},isLoading:!1,options:m,selectedOptions:h,onApply:e=>i(e,a),themeNameSpace:s})},`${p}-input-group`)}))};var v=({id:e,dataTest:t,isLoading:a=!1,inputGroupVariant:l="",minCharactersCountToOpen:o=0,labels:{label:i="",placeholder:s="",errorMessage:c="",noOptionsMessage:d="",clearButtonLabel:u=""}={},leftIcon:p="",rightIcon:f="",clearIcon:h="close",ariaLabel:b="",value:y=null,options:v=[],onChange:C=(()=>{}),onClear:_=(()=>{}),searchConfig:N={},inputThemeNameSpace:S="",menuThemeNameSpace:T=""})=>{const{pageInfo:{deviceType:O}}=(0,r.useContext)(m.Z),{0:w,1:D}=(0,r.useState)(!1);return(0,g.tZ)(n.InputGroup,{id:e,label:i,labelId:`${e}-label`,labelFor:`${e}-input`,clearButtonLabel:u,errorMessage:c,errorMessageId:`${e}-error`,isLoading:a,hasValue:null!==y,leftIcon:p,rightIcon:N&&0===N.minMatchCharLength?f:"",clearIcon:h,onClear:_,variant:l,isAutocompleteOpened:w,setIsAutocompleteOpened:D,themeNameSpace:S,dataTest:t,children:(0,g.tZ)(n.Autocomplete,{id:e,inputId:`${e}-input`,labelId:`${e}-label`,ariaLabel:b,ariaLabelledBy:`${e}-label`,emptyLabel:d,placeholderLabel:s,value:y,options:v,onChange:C,minCharactersCountToOpen:o,searchConfig:N,isAutocompleteOpened:w,setIsAutocompleteOpened:D,themeNameSpace:T,deviceType:O})})};var C=({id:e,dataTest:t="",isLoading:a=!1,labels:{label:l="",errorMessage:r="",clearButtonLabel:o=""}={},value:i={label:"",value:""},options:s=[],onChange:c=(()=>{}),selectThemeNameSpace:d="",inputThemeNameSpace:u=""})=>(0,g.tZ)(n.InputGroup,{label:l,labelId:`${e}-label`,labelFor:`${e}-input`,clearButtonLabel:o,errorMessage:r,errorMessageId:`${e}-error`,isLoading:a,hasValue:!!i,themeNameSpace:u,dataTest:t,noPadding:!0,children:(0,g.tZ)(n.Select,{name:"number_of_stops_filter",ariaLabel:l,className:"p-0",themeNameSpace:d,rightIcon:"keyboard_arrow_down",onChange:c,value:i,options:s,inputId:`${e}-input`})});var _=({id:e,dataTest:t="",isLoading:a=!1,labels:{label:l="",errorMessage:r="",clearButtonLabel:o="",placeholder:i="",noOptionsMessage:s=""}={},value:c={label:"",value:""},options:d=[],onChange:u=(()=>{}),selectThemeNameSpace:p="",inputThemeNameSpace:m=""})=>{const f="string"===typeof c?{label:c,value:c}:c;return(0,g.tZ)(n.InputGroup,{label:l,labelId:`${e}-label`,labelFor:`${e}-input`,clearButtonLabel:o,errorMessage:r,errorMessageId:`${e}-error`,isLoading:a,hasValue:!!c,themeNameSpace:m,dataTest:t,noPadding:!0,children:(0,g.tZ)(n.Select,{name:"redemption_unit_filter",ariaLabel:l,className:"p-0",themeNameSpace:p,rightIcon:"keyboard_arrow_down",onChange:u,value:f,options:d,inputId:`${e}-input`,placeholder:i})})};var N=({id:e,dataTest:t="",isLoading:a=!1,labels:{label:l="",errorMessage:r="",clearButtonLabel:o="",placeholder:i="",noOptionsMessage:s=""}={},value:c={label:"",value:""},options:d=[],onChange:u=(()=>{}),selectThemeNameSpace:p="",inputThemeNameSpace:m=""})=>{const f="string"===typeof c?{label:c,value:c}:c;return(0,g.tZ)(n.InputGroup,{label:l,labelId:`${e}-label`,labelFor:`${e}-input`,clearButtonLabel:o,errorMessage:r,errorMessageId:`${e}-error`,isLoading:a,hasValue:!!c,themeNameSpace:m,dataTest:t,noPadding:!0,children:(0,g.tZ)(n.Select,{name:"travel_class_filter",ariaLabel:l||"Travel Class Filter",className:"p-0",themeNameSpace:p,rightIcon:"keyboard_arrow_down",onChange:u,value:f,options:d,inputId:`${e}-input`,placeholder:i})})},S=a(32276),T=a(86907),O=a(82623),w=a(21860),D=a(64369),$=a(57783),x=a(50462),I=a(44459);const F=(0,r.createContext)(),k=()=>(0,r.useContext)(F),A=({children:e,value:t})=>(0,g.tZ)(F.Provider,{value:t,children:e});function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const E=(e,t)=>{var a,l,r,o;const i=null!==t&&void 0!==t&&null!==(a=t.departure)&&void 0!==a&&a.start?(0,x.D)(null===t||void 0===t||null===(l=t.departure)||void 0===l?void 0:l.start):null,n=null!==t&&void 0!==t&&null!==(r=t.return)&&void 0!==r&&r.start?(0,x.D)(null===t||void 0===t||null===(o=t.return)||void 0===o?void 0:o.start):null;switch(e){case"ROUND_TRIP":return{from:i,to:n};case"ONE_WAY":return{from:i};default:return{from:i||null}}};var B=a(94243),Z=a(50197),M=a(76383),j=a(80495),R=a(94098);var V=({id:e,label:t,placeholder:a,value:l,onChange:o,onFocus:i,onBlur:n,focusedInput:s,lastChangedInput:c,inputClass:d,inputErrorClass:u,inputIconClass:p,inputLabelClass:m,helperTextClass:f,disabled:h,error:b,helperText:y})=>{const v=(0,r.useRef)(null);return(0,g.BX)(g.HY,{children:[(0,g.tZ)(M._,{htmlFor:e,className:m,children:t}),(0,g.BX)("div",{className:"relative",children:[(0,g.tZ)(R.I,{ref:v,disabled:h,id:e,value:l,onChange:o,onFocus:i,onBlur:n,className:(0,O.cn)("pr-8 truncate",(s===e.split("-").pop()||c===e.split("-").pop())&&"ring-2 ring-blue-300 ring-offset-2 focus-visible:ring-2 focus-visible:ring-blue-300 focus-visible:ring-offset-2",d,b&&u),placeholder:a}),(0,g.tZ)("span",{className:`absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 ${p} ${b&&u} `,children:"today"})]}),(0,g.tZ)("p",{className:`mt-0.5 ${f}`,children:b?(0,g.tZ)("span",{className:`${u}`,children:b}):y})]})},U=a(96241),X=a(15420);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=({date:e,handleDateChange:t,today:a,mode:l,daypickerMonth:o,daypickerNavBtn:i,daypickerHeadCell:n,daypickerCell:s,daypickerCellBtn:c,daypickerDayStartCell:d,daypickerDayEndCell:u,daypickerDayMiddleCell:p,daypickerDayTodayCell:f,daypickerDaySelectedCell:h,numberOfMonths:b,initialFocus:y,disableNavigation:v,className:C,showOutsideDays:_,classNames:N,toMonth:S,defaultMonth:T,locale:O})=>{const{pageInfo:{textDirection:w}}=(0,r.useContext)(m.Z),D={IconLeft:e=>{Object.assign({},e);return(0,g.tZ)("span",{className:"flex items-center justify-center",children:"RTL"===w?"chevron_right":"chevron_left"})},IconRight:e=>{Object.assign({},e);return(0,g.tZ)("span",{className:"flex items-center justify-center",children:"RTL"===w?"chevron_left":"chevron_right"})}},$="range"===l?{range_start:null===e||void 0===e?void 0:e.from,range_end:null===e||void 0===e?void 0:e.to}:{selected:null===e||void 0===e?void 0:e.from};return(0,g.tZ)(X.f,{initialFocus:!!y,mode:l,defaultMonth:T,selected:e,onSelect:t,numberOfMonths:b,toMonth:S,fromDate:(0,U.Z)(a),disabled:{before:a},disableNavigation:!!v,showOutsideDays:!!_,className:C,locale:O,classNames:(()=>{const e={caption_label:`${o}`,nav_button:`${i}`,nav_button_previous:"absolute ltr:left-0 rtl:right-0 [&:disabled]:cursor-not-allowed",nav_button_next:"absolute ltr:right-0 rtl:left-0 [&:disabled]:cursor-not-allowed",head_cell:`w-10 ${n}`,day_today:`${f}`,day:`h-10 w-10 p-0 ${c}`,day_outside:"opacity-40 invisible",cell:`relative p-0 z-20 ${s}`};return G(G({},e),{},"range"===l?{day_range_start:`${d} [&::before]:absolute`,day_range_end:`${u} [&::before]:absolute`,day_range_middle:`${p}`,day_selected:""}:{day_selected:`${h}`},N)})(),modifiers:$,components:D})},Y=a(81037),J=a(39751);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=({id:e,flexibleOptions:t,setFlexibleOptions:a,lblFlexibleDates:l,lblClearBtn:r,lblDoneBtn:o,optionsSelectDays:i,flexibleChecked:n,flexibleUnCheck:s,flexibleClassName:c,selectDaysTriggerClass:d,selectDaysMenuClass:u,selectDaysOptionClass:p,selectDaysOptionSelectedClass:m,clearBtnClassName:f,acceptBtnClassName:h,resetDates:b,handelAcceptButton:y})=>(0,g.BX)("div",{className:"flex right-0 flex-col focus-within:relative focus-within:z-20 space-y-2 sm:flex-row sm:items-center sm:space-y-0",children:[(0,g.BX)("div",{className:"flex items-center space-x-2 sm:min-w-[100px] sm:max-w-[250px] sm:truncate",children:[(0,g.tZ)(Y.X,{id:`${e}-flexible-dates`,className:"ml-2",classNamess:{checked:n,unchecked:s},checked:t.isFlexible,onCheckedChange:e=>a((t=>K(K({},t),{},{isFlexible:e})))}),(0,g.tZ)(M._,{htmlFor:`${e}-flexible-dates`,className:`${c} truncate`,children:l})]}),(0,g.BX)("div",{className:"flex items-center justify-between sm:w-full sm:pl-4 sm:flex-1",children:[(0,g.BX)(J.Ph,{value:t.flexibleDays,onValueChange:e=>a((t=>K(K({},t),{},{flexibleDays:e}))),disabled:!t.isFlexible,children:[(0,g.tZ)(J.i4,{className:`w-28 ${d}`,children:(0,g.tZ)(J.ki,{placeholder:"Select days"})}),(0,g.tZ)(J.Bw,{className:`${u}`,children:i.map((e=>(0,g.tZ)(J.Ql,{value:e.value,className:` ${p}\n                                ${t.flexibleDays===e.value?m:""}\n                              `,children:e.label},e.value)))})]}),(0,g.BX)("div",{className:"flex mx-2",children:[(0,g.tZ)(B.z,{className:`w-20 mr-2 ${f}`,onClick:b,children:r}),(0,g.tZ)(B.z,{className:`w-20 ${h}`,onClick:y,children:o})]})]})]});var q=a(43402);var ee=({className:e,labels:t,themeNameSpaces:a,id:l})=>{const{pageInfo:{deviceType:o,dateFormat:i,languageCode:s="en"},urlParameters:{productCategory:c}}=(0,r.useContext)(m.Z),{0:d,1:u}=(0,r.useState)(!1),{0:p,1:f}=(0,r.useState)(null),h=(0,q.K)(s),{locale:b}=(0,T.D)(h),{useTheme:y}=(0,r.useContext)(n.ThemeContext),{travelDatesJourneyType:v,visualization:C}=k(),_="PRIMARY"===C,N="ROUND_TRIP"===v&&"ONE_WAY"!==c,F=(0,O.f)(i),{lblTriggerTitle:A,lblDatesPlaceholder:L,lblDeparture:R,lblReturn:U,lblDepartureDatePlaceholder:X,lblDepartureDateError:H,lblReturnDatePlaceholder:G,lblReturnDateError:Y,lblClearBtn:J,lblDoneBtn:W,lblFlexibleDates:K,lblFDopt1:ee,lblFDopt2:te,lblFDopt3:ae,lblFDopt4:le,lblFDopt5:re}=t,{date:oe,inputValues:ie,flexibleOptions:ne,handleDateChange:se,handleInputChange:ce,handleInputBlur:de,setFlexibleOptions:ue,lastChangedInput:pe,handleAccept:me,resetDates:ge,inputErrors:fe,areDatesSelected:he}=((e,t,a,l)=>{var o,i,n,s;new Date;const{urlParameters:{productCategory:c}}=(0,r.useContext)(m.Z),{travelDatesJourneyType:d,selectedTravelDates:u,handleTravelDateAccept:p,registerResetDates:g}=k(),f="ROUND_TRIP"===d&&"ONE_WAY"!==c,h=E(d,u),b=null!==u&&void 0!==u&&null!==(o=u.departure)&&void 0!==o&&o.start?(0,O.p)((0,x.D)(null===u||void 0===u||null===(i=u.departure)||void 0===i?void 0:i.start),a,{locale:l}):"",y=null!==u&&void 0!==u&&null!==(n=u.return)&&void 0!==n&&n.start?(0,O.p)((0,x.D)(null===u||void 0===u||null===(s=u.return)||void 0===s?void 0:s.start),a,{locale:l}):"",{urlParameters:{productCategory:v}}=(0,r.useContext)(m.Z),{0:C,1:_}=(0,r.useState)(h),{0:N,1:S}=(0,r.useState)({from:b,to:y}),{0:T,1:F}=(0,r.useState)({from:"",to:""}),{0:A,1:L}=(0,r.useState)(null),{0:B,1:Z}=(0,r.useState)({isFlexible:!1,flexibleDays:"1"}),M=(0,r.useRef)(!0);(0,r.useEffect)((()=>{if(M.current&&u){var e,t,r,o;const i=E(d,u);_(i),S({from:null!==u&&void 0!==u&&null!==(e=u.departure)&&void 0!==e&&e.start?(0,O.p)((0,x.D)(null===u||void 0===u||null===(t=u.departure)||void 0===t?void 0:t.start),a,{locale:l}):"",to:null!==u&&void 0!==u&&null!==(r=u.return)&&void 0!==r&&r.start?(0,O.p)((0,x.D)(null===u||void 0===u||null===(o=u.return)||void 0===o?void 0:o.start),a,{locale:l}):""}),M.current=!1}}),[u,d,a,l]);const j=(0,r.useCallback)((e=>{e&&(f&&"from"in e&&"to"in e?(_(e),e.from&&(S((t=>P(P({},t),{},{from:(0,O.p)(e.from,a,{locale:l})}))),F((e=>P(P({},e),{},{from:""}))),L("from")),e.to&&(S((t=>P(P({},t),{},{to:(0,O.p)(e.to,a,{locale:l})}))),F((e=>P(P({},e),{},{to:""}))),L("to"))):(_((t=>P(P({},t),{},{from:e}))),S((t=>P(P({},t),{},{from:(0,O.p)(e,a,{locale:l})}))),F((e=>P(P({},e),{},{from:""}))),L("from")))}),[f,a,l]),R=(0,r.useCallback)((()=>{const e=parseInt(B.flexibleDays),t=t=>({start:(0,O.p)((0,$.Z)(t,e),"yyyy-MM-dd",{locale:l}),end:(0,O.p)((0,w.Z)(t,e),"yyyy-MM-dd",{locale:l})});return f?{from:C.from?t(C.from):null,to:C.to?t(C.to):null}:{from:C.from?t(C.from):null}}),[C,B.flexibleDays,f,l]),V=(0,r.useCallback)((e=>{if(!e)return{isValid:!1,error:""};const t=(0,I.Qc)(e,a,new Date,{locale:l});return(0,D.Z)(t)?{isValid:!0,parsedDate:t}:{isValid:!1,error:"invalid"}}),[a,l]),U=(0,r.useCallback)(((e,t)=>{L(t),S((a=>P(P({},a),{},{[t]:e}))),e||(F((e=>P(P({},e),{},{[t]:""}))),_((e=>P(P({},e),{},{[t]:null}))))}),[]),X=(0,r.useCallback)((a=>{const l=N[a];if(!l)return F((e=>P(P({},e),{},{[a]:""}))),void _((e=>P(P({},e),{},{[a]:null})));const r=V(l);if(!r.isValid){const l="from"===a?e:t;return F((e=>P(P({},e),{},{[a]:l}))),void _((e=>P(P({},e),{},{[a]:null})))}F((e=>P(P({},e),{},{[a]:""}))),_((e=>P(P({},e),{},{[a]:r.parsedDate})))}),[N,V,e,t]),H=(0,r.useCallback)((()=>{if(!f)return!N.from||(!!V(N.from).isValid||(F((t=>P(P({},t),{},{from:e}))),!1));const a=N.from?V(N.from):{isValid:!0},l=N.to?V(N.to):{isValid:!0};return!N.from&&!N.to||(N.to&&!N.from?(F((t=>P(P({},t),{},{from:e}))),!1):N.from&&!N.to?(F((e=>P(P({},e),{},{to:t}))),!1):!(!a.isValid||!l.isValid)||(F({from:a.isValid?"":e,to:l.isValid?"":t}),!1))}),[N.from,N.to,f,V,e,t]),G=(0,r.useCallback)((()=>{const e=C.from&&(0,O.p)(C.from,"yyyy-MM-dd",{locale:l}),t=C.to&&(0,O.p)(C.to,"yyyy-MM-dd",{locale:l}),a={isRoundTrip:v?"ONE_WAY"!=v:f,isFlexible:B.isFlexible,journeyDates:B.isFlexible?R():{start:e,end:t}};null===p||void 0===p||p(a),L(null)}),[null===C||void 0===C?void 0:C.from,null===C||void 0===C?void 0:C.to,f,B.isFlexible,R,p,l]),z=(0,r.useCallback)((()=>{_({from:null,to:null}),S({from:"",to:""}),F({from:"",to:""}),L(null),Z({isFlexible:!1,flexibleDays:"1"})}),[]);return(0,r.useEffect)((()=>{g(z)}),[g]),{date:C,inputValues:N,lastChangedInput:A,flexibleOptions:B,handleDateChange:j,handleAccept:G,handleInputChange:U,handleInputBlur:X,setFlexibleOptions:Z,resetDates:z,inputErrors:T,areDatesSelected:H}})(H,Y,F,b),be=new Date,ye=[{value:"1",label:ee},{value:"2",label:te},{value:"3",label:ae},{value:"4",label:le},{value:"5",label:re}],ve=((e,t,a,l,r)=>{const o=`${e}._travelDates`;return{popoverTriggerClassName:t(a?[`${o}._trigger`]:[`${o}._trigger._secondary`,l.from||l.to?`${o}._trigger._secondary._withValue`:""]),popoverTriggerIconClassName:t([`${o}._trigger._icon`]),popoverTriggerLabelClass:t([`${o}._trigger._label`]),popoverClassName:t([`${o}._popover`]),footerClass:t([`${o}._footer`]),clearBtnClassName:t([`${o}._footer._clearBtn`]),acceptBtnClassName:t([`${o}._footer._acceptBtn`]),flexibleClassName:t([`${o}._footer._flexibleCheck._label`]),flexibleChecked:t([`${o}._footer._flexibleCheck._checkbox._checked`]),flexibleUnCheck:t([`${o}._footer._flexibleCheck._checkbox`]),selectDaysTriggerClass:t([`${o}._footer._selectDays._toggle`,r.isFlexible?`${o}._footer._selectDays._toggle._withValue`:""]),selectDaysMenuClass:t([`${o}._footer._selectDays._dropdownMenu`,`${o}._footer._selectDays._dropdownMenu._optionContainer`]),selectDaysOptionClass:t([`${o}._footer._selectDays._dropdownMenu._option`]),selectDaysOptionSelectedClass:t([`${o}._footer._selectDays._dropdownMenu._option._selected`]),inputClass:t([`${o}._header._input`]),inputWithErrorClass:t([`${o}._header._input._withError`]),inputIconClass:t([`${o}._header._input._icon`]),inputLabelClass:t([`${o}._header._label`]),helperTextClass:t([`${o}._header._placeholderHelper`]),headerClass:t([`${o}._header`]),dialogHeaderClass:t([`${o}._dialog._header`]),dialogBackBtnClass:t([`${o}._dialog._header._backButton`]),dialogHeaderTitleClass:t([`${o}._dialog._header._title`]),daypickerMonth:t([`${o}._daypicker._month`]),daypickerNavBtn:t([`${o}._daypicker._nav_button`]),daypickerHeadCell:t([`${o}._daypicker._cell`,`${o}._daypicker._cell._head_cell`]),daypickerCell:t([`${o}._daypicker._cell`]),daypickerBtn:t([`${o}._daypicker._cell._day`]),daypickerDayStartCell:t([`${o}._daypicker._cell`,`${o}._daypicker._cell._day_range_start`]),daypickerDayEndCell:t([`${o}._daypicker._cell`,`${o}._daypicker._cell._day_range_end`]),daypickerDayMiddleCell:t([`${o}._daypicker._cell`,`${o}._daypicker._cell._day_range_middle`]),daypickerDayTodayCell:t([`${o}._daypicker._cell`,`${o}._daypicker._cell._day_today`]),daypickerDaySelectedCell:t([`${o}._daypicker._cell`,`${o}._daypicker._cell._day_selected`])}})(a,y,_,ie,ne),Ce=()=>{he()&&(me(),u(!1))};return"desktop"===o?(0,g.BX)(Z.J2,{open:d,onOpenChange:e=>{e?u(e):Ce()},children:[(0,g.tZ)(Z.xo,{asChild:!0,children:(0,g.BX)("div",{className:(0,O.cn)("flex flex-col mr-2",_&&"sm:justify-between mr-0"),children:[_&&(0,g.tZ)(M._,{htmlFor:`${l}-filter-trigger`,className:`${ve.popoverTriggerLabelClass} `,children:A}),(0,g.BX)(B.z,{id:`${l}-filter-trigger`,className:(0,O.cn)("w-full flex items-center px-2 justify-between ",ve.popoverTriggerClassName),"aria-label":L,children:[(0,g.tZ)("div",{className:"truncate ",children:null!==oe&&void 0!==oe&&oe.from?null!==oe&&void 0!==oe&&oe.to?`${(0,O.p)(oe.from,F,{locale:b})} - ${(0,O.p)(oe.to,F,{locale:b})}`:(0,O.p)(oe.from,F,{locale:b}):(0,g.tZ)("span",{children:L})}),(0,g.tZ)("div",{className:"flex-none flex items-center",children:_?(0,g.tZ)("span",{className:`ml-2 ${ve.popoverTriggerIconClassName}`,children:"today"}):(0,g.tZ)("span",{className:`ml-2 ${ve.popoverTriggerIconClassName}`,children:"keyboard_arrow_down"})})]})]})}),(0,g.BX)(Z.yk,{className:` p-0 ${ve.popoverClassName} `,align:"start",children:[(0,g.tZ)("div",{className:(0,O.cn)("flex p-5 items-center",` ${ve.headerClass}`),children:(0,g.BX)("div",{className:"flex w-full flex-row justify-between ",children:[(0,g.tZ)("div",{className:"w-1/2 pr-3",children:(0,g.tZ)(V,{id:`${l}-from`,label:R,placeholder:X,value:ie.from,onChange:e=>ce(e.target.value,"from"),onFocus:()=>f("from"),onBlur:()=>{f(null),de("from")},focusedInput:p,lastChangedInput:pe,inputClass:ve.inputClass,inputErrorClass:ve.inputWithErrorClass,inputIconClass:ve.inputIconClass,inputLabelClass:ve.inputLabelClass,helperTextClass:ve.helperTextClass,error:fe.from,helperText:F})}),(0,g.tZ)("div",{className:"w-1/2 pl-3",children:(0,g.tZ)(V,{id:`${l}-to`,label:U,placeholder:G,value:ie.to,onChange:e=>ce(e.target.value,"to"),onFocus:()=>f("to"),onBlur:()=>{f(null),de("to")},disabled:!N,focusedInput:p,lastChangedInput:pe,inputClass:ve.inputClass,inputErrorClass:ve.inputWithErrorClass,inputIconClass:ve.inputIconClass,inputLabelClass:ve.inputLabelClass,helperTextClass:ve.helperTextClass,error:fe.to,helperText:F})})]})}),(0,g.tZ)("div",{className:"flex flex-col justify-center items-center",children:(0,g.tZ)(z,{initialFocus:!0,mode:N?"range":"single",date:oe,handleDateChange:se,today:be,showOutsideDays:!0,numberOfMonths:"mobile"===o?1:2,locale:b,daypickerMonth:ve.daypickerMonth,daypickerNavBtn:ve.daypickerNavBtn,daypickerHeadCell:ve.daypickerHeadCell,daypickerCell:ve.daypickerCell,daypickerCellBtn:ve.daypickerBtn,daypickerDayStartCell:ve.daypickerDayStartCell,daypickerDayEndCell:ve.daypickerDayEndCell,daypickerDayMiddleCell:ve.daypickerDayMiddleCell,daypickerDayTodayCell:ve.daypickerDayTodayCell,daypickerDaySelectedCell:ve.daypickerDaySelectedCell,toMonth:(0,S.z)(be,12),defaultMonth:(null===oe||void 0===oe?void 0:oe.from)||be})}),(0,g.tZ)("div",{className:`p-5 ${ve.footerClass}`,children:(0,g.tZ)(Q,{id:l,flexibleOptions:ne,setFlexibleOptions:ue,lblFlexibleDates:K,lblClearBtn:J,lblDoneBtn:W,optionsSelectDays:ye,flexibleChecked:ve.flexibleChecked,flexibleUnCheck:ve.flexibleUnCheck,flexibleClassName:ve.flexibleClassName,selectDaysTriggerClass:ve.selectDaysTriggerClass,selectDaysMenuClass:ve.selectDaysMenuClass,selectDaysOptionClass:ve.selectDaysOptionClass,selectDaysOptionSelectedClass:ve.selectDaysOptionSelectedClass,clearBtnClassName:ve.clearBtnClassName,acceptBtnClassName:ve.acceptBtnClassName,resetDates:ge,handelAcceptButton:Ce})})]})]}):(0,g.BX)(j.Vq,{open:d,onOpenChange:u,modal:!0,children:[(0,g.tZ)(j.hg,{asChild:!0,children:(0,g.BX)("div",{className:(0,O.cn)("flex flex-col mr-2",_&&"space-y-2 sm:justify-between mr-0"),children:[_&&(0,g.tZ)(M._,{htmlFor:`${l}-filter-trigger`,className:`${ve.popoverTriggerLabelClass} `,children:A}),(0,g.BX)(B.z,{id:`${l}-filter-trigger`,className:(0,O.cn)("w-full flex items-center px-2 justify-between ",ve.popoverTriggerClassName),"aria-label":L,children:[(0,g.tZ)("div",{className:"truncate ",children:null!==oe&&void 0!==oe&&oe.from?null!==oe&&void 0!==oe&&oe.to?`${(0,O.p)(oe.from,F,{locale:b})} - ${(0,O.p)(oe.to,F,{locale:b})}`:(0,O.p)(oe.from,F,{locale:b}):(0,g.tZ)("span",{children:L})}),(0,g.tZ)("div",{className:"flex-none flex items-center",children:_?(0,g.tZ)("span",{className:`ml-2 ${ve.popoverTriggerIconClassName}`,children:"today"}):(0,g.tZ)("span",{className:`ml-2 ${ve.popoverTriggerIconClassName}`,children:"keyboard_arrow_down"})})]})]})}),(0,g.BX)(j.cZ,{onEscapeKeyDown:e=>e.preventDefault(),className:"p-0 w-screen h-dvh max-h-screen sm:max-w-md sm:max-h-[90vh] flex flex-col",children:[(0,g.BX)(j.fK,{className:`flex-row items-center sm:text-center justify-between flex-shrink-0 ${ve.dialogHeaderClass}`,children:[(0,g.BX)(B.z,{className:`flex w-auto ${ve.dialogBackBtnClass}`,onClick:Ce,children:["keyboard_arrow_left",(0,g.tZ)("span",{className:"sr-only",children:"Close"})]}),(0,g.tZ)(j.$N,{className:`flex-grow  ${ve.dialogHeaderTitleClass}`,children:L}),(0,g.tZ)(j.Be,{className:"sr-only",children:"Make changes to your travel date. Click Save when you're done."}),(0,g.tZ)("div",{className:"w-8"})]}),(0,g.tZ)("div",{className:`flex p-5 items-center ${ve.headerClass}`,children:(0,g.BX)("div",{className:"flex w-full flex-row justify-between ",children:[(0,g.tZ)("div",{className:"w-1/2 pr-3",children:(0,g.tZ)(V,{id:`${l}-from`,label:R,placeholder:X,value:ie.from,onChange:e=>ce(e.target.value,"from"),onFocus:()=>f("from"),onBlur:()=>{f(null),de("from")},focusedInput:p,lastChangedInput:pe,inputClass:ve.inputClass,inputErrorClass:ve.inputWithErrorClass,inputIconClass:ve.inputIconClass,inputLabelClass:ve.inputLabelClass,helperTextClass:ve.helperTextClass,error:fe.from,helperText:F})}),(0,g.tZ)("div",{className:"w-1/2 pl-3",children:(0,g.tZ)(V,{id:`${l}-to`,label:U,placeholder:G,value:ie.to,onChange:e=>ce(e.target.value,"to"),onFocus:()=>f("to"),onBlur:()=>{f(null),de("to")},disabled:!N,focusedInput:p,lastChangedInput:pe,inputClass:ve.inputClass,inputErrorClass:ve.inputWithErrorClass,inputIconClass:ve.inputIconClass,inputLabelClass:ve.inputLabelClass,helperTextClass:ve.helperTextClass,error:fe.to,helperText:F})})]})}),(0,g.tZ)("div",{className:"flex flex-col flex-grow sm:justify-center  items-center overflow-y-auto",children:(0,g.tZ)(z,{initialFocus:!0,mode:N?"range":"single",date:oe,handleDateChange:se,today:be,showOutsideDays:!0,numberOfMonths:13,locale:b,daypickerMonth:ve.daypickerMonth,daypickerNavBtn:ve.daypickerNavBtn,daypickerHeadCell:ve.daypickerHeadCell,daypickerCell:ve.daypickerCell,daypickerCellBtn:ve.daypickerBtn,daypickerDayStartCell:ve.daypickerDayStartCell,daypickerDayEndCell:ve.daypickerDayEndCell,daypickerDayMiddleCell:ve.daypickerDayMiddleCell,daypickerDayTodayCell:ve.daypickerDayTodayCell,daypickerDaySelectedCell:ve.daypickerDaySelectedCell,disableNavigation:!0,toMonth:(0,S.z)(be,12),defaultMonth:be,classNames:{months:"flex flex-col space-y-4 ",caption:"flex justify-start pt-1 relative items-center"}})}),(0,g.tZ)(j.cN,{children:(0,g.tZ)("div",{className:`p-5 w-full ${ve.footerClass}`,children:(0,g.tZ)(Q,{id:l,flexibleOptions:ne,setFlexibleOptions:ue,lblFlexibleDates:K,lblClearBtn:J,lblDoneBtn:W,optionsSelectDays:ye,flexibleChecked:ve.flexibleChecked,flexibleUnCheck:ve.flexibleUnCheck,flexibleClassName:ve.flexibleClassName,selectDaysTriggerClass:ve.selectDaysTriggerClass,selectDaysMenuClass:ve.selectDaysMenuClass,selectDaysOptionClass:ve.selectDaysOptionClass,selectDaysOptionSelectedClass:ve.selectDaysOptionSelectedClass,clearBtnClassName:ve.clearBtnClassName,acceptBtnClassName:ve.acceptBtnClassName,resetDates:ge,handelAcceptButton:Ce})})})]})]})};var te=({id:e,dataTest:t="",isLoading:a=!1,labels:{label:l="",errorMessage:r="",clearButtonLabel:o="",placeholder:i="",noOptionsMessage:s=""}={},value:c={label:"",value:""},options:d=[],onChange:u=(()=>{}),selectThemeNameSpace:p="",inputThemeNameSpace:m=""})=>(0,g.tZ)(n.InputGroup,{label:l,labelId:`${e}-label`,labelFor:`${e}-input`,clearButtonLabel:o,errorMessage:r,errorMessageId:`${e}-error`,isLoading:a,hasValue:!!c,themeNameSpace:m,dataTest:t,noPadding:!0,children:(0,g.tZ)(n.Select,{name:"sorting_filter",ariaLabel:l||"Sorting Filter",className:"p-0",themeNameSpace:p,rightIcon:"keyboard_arrow_down",onChange:u,value:c,options:d,inputId:`${e}-input`,placeholder:i,customControlVisualization:"ControlWithSortingLeftIcon"})});var ae=e=>{const{dataTest:t,labels:{placeholder:a="",dialogTitle:l=""}={},value:o=null,options:i=[],onClear:s=(()=>{}),filtersThemeNameSpace:c="",renderComponent:d}=e,{pageInfo:{deviceType:u}}=(0,r.useContext)(m.Z),f=(0,p.L)(),{0:h,1:b}=(0,r.useState)(!1),y=(i.find((e=>e.value===o))||{}).label||a,v=()=>b((e=>!e)),C=()=>b(!1);return"desktop"!==u?(0,g.BX)(n.Dialog,{open:h,onOpenChange:b,lockScroll:!0,children:[(0,g.tZ)(n.Dialog.Trigger,{asChild:!0,children:(0,g.tZ)(n.Flex,{className:"mr-2 mb-2",children:(0,g.BX)(n.Button,{className:"truncate float-left w-auto ltr:pr-8 ltr:pl-2 rtl:pl-8 rtl:pr-2",themeNameSpaces:[`${c}._toggle`,o&&`${c}._toggle._withValue`],onClick:v,dataTest:`filter-${t}-button`,ariaExpanded:h,ariaHasPopup:"dialog",children:[y,(0,g.tZ)(n.Text,{as:"i",className:"absolute h-full ltr:right-0 rtl:left-0  ltr:pr-2 rtl:pl-2 top-0 flex items-center justify-center pointer-events-none",themeNameSpaces:[`${c}._toggle._icon`,o&&`${c}._toggle._icon._withValue`],children:"keyboard_arrow_down"})]})})}),(0,g.BX)(n.Dialog.Content,{className:"flex flex-col top-0 left-0 z-50 h-screen w-screen overflow-hidden",themeNameSpaces:[`${c}._dialog`],children:[(0,g.BX)(n.Dialog.Heading,{className:"flex items-center justify-start flex-shrink-0 flex-grow-0",themeNameSpaces:[`${c}._dialog._header`],children:[(0,g.tZ)(n.Button,{className:"flex justify-center items-center w-auto",themeNameSpaces:[`${c}._dialog._header._backButton`],onClick:()=>{b(!1)},children:"keyboard_arrow_left"}),(0,g.tZ)(n.Text,{as:"h3",className:"w-full text-center",themeNameSpaces:[`${c}._dialog._header._title`],children:l}),(0,g.tZ)("div",{className:"w-8"})]}),(0,g.tZ)(n.Dialog.Body,{className:" flex flex-col space-y-2 max-sm:flex-1 max-sm:overflow-y-auto flex-grow",themeNameSpaces:[`${c}._dialog._body`],children:d(e)}),(0,g.BX)(n.Dialog.Footer,{className:"flex w-full items-center justify-end sm:justify-end sm:px-5 sm:py-2 flex-shrink-0",themeNameSpaces:[`${c}._dialog._footer`],children:[(0,g.tZ)(n.Button,{className:" w-36 ",themeNameSpaces:[`${c}._dialog._footer._clearButton`],onClick:s,children:(null===f||void 0===f?void 0:f["cmp-filter-secondary-reset-button"])||"CLEAR"}),(0,g.tZ)(n.Button,{className:"w-36 ltr:ml-3 rtl:mr-3",themeNameSpaces:[`${c}._dialog._footer._closeButton`],onClick:()=>b(!1),children:(null===f||void 0===f?void 0:f["cmp-filter-secondary-apply-button"])||"DONE"})]})]})]}):(0,g.tZ)(n.Box,{className:"max-w-full pb-1 ltr:mr-1 ltr:lg:mr-2 rtl:ml-1 rtl:lg:ml-2",dataTest:t,children:(0,g.tZ)(n.Popper,{isOpen:h,onClose:C,onOpenChange:b,options:{closeOnClickOutside:!0,onEscapeKey:!0,offset:[0,4]},components:{Target:({ref:e})=>(0,g.BX)(n.Button,{ref:e,className:"truncate w-auto ltr:pr-8 ltr:pl-2 rtl:pl-8 rtl:pr-2",themeNameSpaces:[`${c}._toggle`,o&&`${c}._toggle._withValue`],onClick:v,dataTest:"filter-origin-button",ariaExpanded:h,ariaHasPopup:"dialog",children:[y,(0,g.tZ)(n.Text,{as:"i",className:"absolute h-full ltr:right-0 rtl:left-0  ltr:pr-2 rtl:pl-2 top-0 flex items-center justify-center pointer-events-none",themeNameSpaces:[`${c}._toggle._icon`,o&&`${c}._toggle._icon._withValue`],children:"keyboard_arrow_down"})]}),Content:()=>(0,g.BX)(n.Stack,{className:"w-auto max-w-72 max-h-48",themeNameSpaces:[`${c}._popper`],children:[(0,g.tZ)(n.Flex,{className:"flex-col md:flex-row md:flex-nowrap items-center",themeNameSpaces:[`${c}._popper._body`],children:d(e)}),(0,g.BX)(n.Flex,{className:"flex-no-wrap justify-end px-5 py-2",themeNameSpaces:[`${c}._popper._footer`],children:[(0,g.tZ)(n.Button,{className:"w-auto",themeNameSpaces:[`${c}._popper._footer._resetButton`],isDisabled:!o,onClick:s,dataTest:"reset",children:(null===f||void 0===f?void 0:f["cmp-filter-secondary-reset-button"])||"CLEAR"}),(0,g.tZ)(n.Button,{className:"w-auto ltr:ml-3 rtl:mr-3",themeNameSpaces:[`${c}._popper._footer._applyButton`],onClick:C,dataTest:"apply",children:(null===f||void 0===f?void 0:f["cmp-filter-secondary-apply-button"])||"DONE"})]})]})}})})},le=a(10219),re=a(93967),oe=a.n(re);const ie=["renderComponent","dataTest","isInsideModal"];function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=e=>{let{renderComponent:t,dataTest:a="",isInsideModal:l=!1}=e,o=(0,le.Z)(e,ie);const{name:i,labels:{placeholder:s,dialogTitle:c},value:d,options:u,filtersThemeNameSpace:p,ariaLabel:f}=o,h="string"===typeof d?{label:d,value:d}:d,{pageInfo:{deviceType:b}}=(0,r.useContext)(m.Z),{0:y,1:v}=(0,r.useState)(!1),C=(u.find((e=>e.value===d))||{}).label||s;return"desktop"!==b?(0,g.BX)(n.Dialog,{open:y,onOpenChange:v,lockScroll:!0,children:[(0,g.tZ)(n.Dialog.Trigger,{asChild:!0,children:(0,g.tZ)(n.Flex,{className:"mr-2 mb-2",children:(0,g.BX)(n.Button,{className:`truncate ltr:pr-8 ltr:pl-2 rtl:pl-8 rtl:pr-2\n              ${l?" w-40 text-left":" float-left w-auto"}  \n            `,themeNameSpaces:[`${p}._toggle`,d&&`${p}._toggle._withValue`,"sorting_secondaryfilter"===i?`${p}._toggle._sorting`:""],onClick:()=>v((e=>!e)),dataTest:`filter-${a}-button`,ariaExpanded:y,ariaHasPopup:"dialog",children:["sorting_secondaryfilter"===i?(0,g.BX)(n.Flex,{children:[(0,g.tZ)(n.Text,{as:"i",className:"align-middle fill-current inset-y-0 lrt:left-0 rtl:right-0 flex items-center ltr:pl-1.5 rtl:pr-1.5",themeNameSpaces:[`${p}.leftIcon`],children:"sort"}),(0,g.BX)(n.Text,{className:"px-1 uppercase",children:[f,":"]}),C]}):C,(0,g.tZ)(n.Text,{as:"i",className:"absolute h-full ltr:right-0 rtl:left-0  ltr:pr-2 rtl:pl-2 top-0 flex items-center justify-center pointer-events-none",themeNameSpaces:[`${p}._toggle._icon`,d&&`${p}._toggle._icon._withValue`],children:"keyboard_arrow_down"})]})})}),(0,g.BX)(n.Dialog.Content,{className:"flex flex-col inset-0 fixed z-50",themeNameSpaces:[`${p}._dialog`],children:[(0,g.BX)(n.Dialog.Heading,{className:"flex items-center justify-start flex-shrink-0",themeNameSpaces:[`${p}._dialog._header`],children:[(0,g.tZ)(n.Button,{className:"flex justify-center items-center w-auto",themeNameSpaces:[`${p}._dialog._header._backButton`],onClick:()=>{v(!1)},children:"keyboard_arrow_left"}),(0,g.tZ)(n.Text,{as:"h3",className:"flex-1 text-center truncate",themeNameSpaces:[`${p}._dialog._header._title`],children:c}),(0,g.tZ)("div",{className:"w-8"})]}),(0,g.tZ)(n.Dialog.Body,{className:" flex flex-col space-y-2 max-sm:flex-1 max-sm:overflow-y-auto flex-grow",themeNameSpaces:[`${p}._dialog._body`],children:t(o)})]})]}):(0,g.tZ)(n.Box,{className:oe()("max-w-full min-w-28 pb-1 ltr:mr-1 ltr:lg:mr-2 rtl:ml-1 rtl:lg:ml-2",{"w-40":l}),dataTest:a,children:(0,g.tZ)(n.Select,se(se({},o),{},{value:h,className:"p-0",rightIcon:"keyboard_arrow_down",themeNameSpace:`${p}`,customControlVisualization:"sorting_secondaryfilter"===i&&"ControlWithSortingLeftIcon",optionIcon:"sorting_secondaryfilter"===i&&!0}))})};var de=({sfmId:e="",locationAttributeFiltersID:t="",locationAttributes:a=[],selectedLocationAttributes:l=[],handleOnApplyLocationAttrFilter:o=(()=>{}),filtersThemeNameSpace:i="",name:s="",isInsideModal:c=!1})=>{const{pageInfo:{deviceType:d}}=(0,r.useContext)(m.Z),u=(0,p.L)();return a&&a.filter((({id:e})=>e===t)).map((({id:a,name:r,tags:p})=>{const m=`${s}-${e}-${a}`,f=p&&p.map((({name:e,id:t})=>({label:e,value:t}))),h=l&&l.filter((({categoryId:e})=>e===a)).map((({tags:e})=>e&&e.map((e=>({value:e}))))).flat();return(0,g.tZ)(n.MultiSelector,{id:`${m}-multiselector`,className:""+("desktop"!==d?"mr-2 mb-2":"p-0"),deviceType:d,onOpenChange:()=>{},dataTest:{toggleDataTest:`attr-filter-${r}-filter`,allCheckboxDataTest:`attr-filter-${r}-all`,optionsDataTest:`attr-filter-${r}-options`,counterDataTest:`attr-filter-${r}-counter`,clearBtnDataTest:`attr-filter-${r}-clear`,applyBtnDataTest:`attr-filter-${r}-done`},labels:{toggleLabel:null===u||void 0===u?void 0:u["cmp-attr-filter-toggle"],multiSelected:null===u||void 0===u?void 0:u["cmp-attr-filter-multiple-selected"],allCheckboxLabel:null===u||void 0===u?void 0:u["cmp-attr-filter-all"],counterLabel:null===u||void 0===u?void 0:u["cmp-attr-filter-counter-label"],clearBtnLabel:null===u||void 0===u?void 0:u["cmp-attr-filter-clear-btn"],applyBtnLabel:null===u||void 0===u?void 0:u["cmp-attr-filter-apply-btn"],titleLabel:r,showMoreLabel:(null===u||void 0===u?void 0:u["cmp-attr-filter-showMoreLabel-btn"])||"Show more",showLessLabel:(null===u||void 0===u?void 0:u["cmp-attr-filter-showLessLabel-btn"])||"Show less",backBtnLabel:null===u||void 0===u?void 0:u["button-previous"]},isLoading:!1,options:f,selectedOptions:h,onApply:e=>o(e,t),themeNameSpace:i,isSecondaryFilter:!0,isInsideModal:c,name:s})}))};var ue=({id:e,dataTest:t={},labels:{toggleLabel:a,multiSelected:l,allCheckboxLabel:o,counterLabel:i,clearBtnLabel:s,applyBtnLabel:c,label:d,showMoreLabel:u,showLessLabel:p,backBtnLabel:f,noOptionsMessage:h="",clearButtonLabel:b=""}={},selectedOptions:y=[],options:v=[],onApply:C=(()=>{}),filtersThemeNameSpace:_="",name:N="",isInsideModal:S=!1,isLoading:T=!1})=>{const{pageInfo:{deviceType:O}}=(0,r.useContext)(m.Z);return(0,g.tZ)(n.MultiSelector,{id:`${e}-multiselector`,className:""+("desktop"!==O?"mr-2 mb-2":"p-0"),deviceType:O,onOpenChange:()=>{},dataTest:t,labels:{toggleLabel:a,multiSelected:l,allCheckboxLabel:o,counterLabel:i,clearBtnLabel:s,applyBtnLabel:c,titleLabel:d,showMoreLabel:u,showLessLabel:p,backBtnLabel:f},isLoading:!1,options:v,selectedOptions:y,onApply:C,themeNameSpace:_,isSecondaryFilter:!0,isInsideModal:S,name:N})};function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ge=e=>{const{sfmId:t="",filterSettings:a,sortingFilterValues:l=[],originAirports:r=[],destinationAirports:o=[],locationAttributes:i=[],originAirportsLoading:s=!1,destinationAirportsLoading:c=!1,locationAttributesLoading:d=!1,handleOnChangeOriginFilter:u=(()=>{}),handleOnChangeDestinationFilter:m=(()=>{}),handleOnChangeBudgetFilter:S=(()=>{}),handleOnChangeTravelClassFilter:T=(()=>{}),handleOnChangeRedemptionUnitFilter:O=(()=>{}),handleOnApplyBrandedTravelClassFilter:w=(()=>{}),handleOnApplyLocationAttrFilter:D=(()=>{}),handleOnChangeNumberOfStopsFilter:$=(()=>{}),handleOnChangeJourneyType:x=(()=>{}),handleOnChangeSorting:I=(()=>{}),debouncedOnKeyUpHandler:F=(()=>{}),handleOnClearOriginFilter:k=(()=>{}),handleOnClearDestinationFilter:A=(()=>{}),handleOnClearBudgetFilter:L=(()=>{}),selectedOrigin:P=null,selectedDestination:E=null,budgetInputValue:B="",selectedTravelClass:Z="",selectedBrandedTravelClasses:M=[],selectedLocationAttributes:j=[],selectedRedemptionUnit:R,selectedNumberOfStops:V,selectedJourneyType:U="",selectedSortingOption:X="",themeNameSpace:H,travelClassesData:G={},searchConfig:z={caseSensitive:!1,includeScore:!1,includeMatches:!1,shouldSort:!0,findAllMatches:!0,threshold:.2,location:0,distance:300,maxPatternLength:50,minMatchCharLength:1,keys:["value","label"]},name:Y,isInsideModal:J}=e,{currencyCode:W="",visualization:K}=a,Q=(0,p.L)(),{organizationDataCollection:{travelClasses:q=[],brandedTravelClasses:le=[],redemptionUnits:re=[]}={}}=G||{},oe=le&&le.filter((({travelClass:e})=>e===Z)),ie={DEFAULT:{customValue:"cmp-sorting-filter-default",defaultValue:"Popular"},DEP_AIRPORT_NAME_ASC:{customValue:"cmp-sorting-filter-dep-airport-asc",defaultValue:"Origin airport (A to Z)"},DEP_AIRPORT_NAME_DESC:{customValue:"cmp-sorting-filter-dep-airport-desc",defaultValue:"Origin airport (Z to A)"},ARR_AIRPORT_NAME_ASC:{customValue:"cmp-sorting-filter-arr-airport-asc",defaultValue:"Destination airport (A to Z)"},ARR_AIRPORT_NAME_DESC:{customValue:"cmp-sorting-filter-arr-airport-desc",defaultValue:"Destination airport(Z to A)"},DEP_CITY_NAME_ASC:{customValue:"cmp-sorting-filter-dep-city-asc",defaultValue:"Origin city (A to Z)"},DEP_CITY_NAME_DESC:{customValue:"cmp-sorting-filter-dep-city-desc",defaultValue:"Origin city (Z to A)"},ARR_CITY_NAME_ASC:{customValue:"cmp-sorting-filter-arr-city-asc",defaultValue:"Destination city (A to Z)"},ARR_CITY_NAME_DESC:{customValue:"cmp-sorting-filter-arr-city-desc",defaultValue:"Destination city (Z to A)"},DEPARTURE_DATE_ASC:{customValue:"cmp-sorting-filter-dep-date-asc",defaultValue:"Departure date (Earliest to Latest)"},DEPARTURE_DATE_DESC:{customValue:"cmp-sorting-filter-dep-date-desc",defaultValue:"Departure Date (Latest to Earliest)"},RETURN_DATE_ASC:{customValue:"cmp-sorting-filter-ret-date-asc",defaultValue:"Return date (Earliest to Latest)"},RETURN_DATE_DESC:{customValue:"cmp-sorting-filter-ret-date-desc",defaultValue:"Return Date (Latest to Earliest)"},TRIP_LENGTH_ASC:{customValue:"cmp-sorting-filter-trip-asc",defaultValue:"Trip length (Short to Long)"},TRIP_LENGTH_DESC:{customValue:"cmp-sorting-filter-trip-desc",defaultValue:"Trip length (Long to Short)"},PRICE_ASC:{customValue:"cmp-sorting-filter-price-asc",defaultValue:"Price (Low to High)"},PRICE_DESC:{customValue:"cmp-sorting-filter-price-desc",defaultValue:"Price (High to Low)"}},ne=l?l.map((e=>({value:e,label:(null===Q||void 0===Q?void 0:Q[ie[e].customValue])||ie[e].defaultValue}))):[];const se={CURRENCY:"cmp-redemption-filter-currency",MILES:"cmp-redemption-filter-miles",POINTS:"cmp-redemption-filter-points"},pe=re&&Array.isArray(re)?re.map((e=>{const t=e.toUpperCase();return{value:t,label:(null===Q||void 0===Q?void 0:Q[se[t]])||e}})):[],ge=[{value:"ANY_STOPS",label:(null===Q||void 0===Q?void 0:Q["cmp-stops-filter-any-stops"])||"ANY STOPS"},{value:"MAX_ONE_STOP",label:(null===Q||void 0===Q?void 0:Q["cmp-stops-filter-max-one-stop"])||"MAX ONE STOP"},{value:"NONSTOP",label:(null===Q||void 0===Q?void 0:Q["cmp-stops-filter-nonstop"])||"NON STOP"}],fe=[{value:"ROUND_TRIP",label:(null===Q||void 0===Q?void 0:Q["cmp-journey-type--roundtrip"])||"Round trip"},{value:"ONE_WAY",label:(null===Q||void 0===Q?void 0:Q["cmp-journey-type--oneway"])||"One Way"}],he=(null===Q||void 0===Q?void 0:Q["cmp-btn-clear"])||"Clear filter",be="close",ye=`${H}._filters`,ve=`${ye}._select`,Ce=`${ye}._input`,_e=`${ye}._locationSelector`;let Ne=Y,Se="";if(Ne.includes("locationAttributesFilters")){const[e,t]=Y.split("_");Ne=e,Se=t}switch(Ne){case"showOriginFilter":{const e={id:`sfm-origin-${t}`,dataTest:"origin",leftIcon:"flight_takeoff",rightIcon:"keyboard_arrow_down",ariaLabel:(null===Q||void 0===Q?void 0:Q["cmp-select-origin-arialabel"])||"Input origin",isLoading:s,minCharactersCountToOpen:0,value:P,options:r,labels:{label:null===Q||void 0===Q?void 0:Q["cmp-select-origin-label"],placeholder:null===Q||void 0===Q?void 0:Q["cmp-select-origin-placeholder"],noOptionsMessage:null===Q||void 0===Q?void 0:Q["cmp-select-empty-location-selector"],clearButtonLabel:he,dialogTitle:"Origin"},clearIcon:be,onChange:u,onClear:k,searchConfig:z,inputGroupVariant:"2",inputThemeNameSpace:Ce,menuThemeNameSpace:_e};return"PRIMARY"===K?(0,g.tZ)(v,me({},e)):(0,g.tZ)(ae,me(me({},e),{},{renderComponent:e=>(0,g.tZ)(v,me({},e)),filtersThemeNameSpace:`${ye}._secondary`}))}case"showDestinationFilter":{const e={id:`sfm-destination-${t}`,dataTest:"destination",leftIcon:"flight_land",rightIcon:"keyboard_arrow_down",ariaLabel:(null===Q||void 0===Q?void 0:Q["cmp-select-destination-arialabel"])||"Input destination",isLoading:c,minCharactersCountToOpen:0,value:E,options:o,labels:{label:null===Q||void 0===Q?void 0:Q["cmp-select-destination-label"],placeholder:null===Q||void 0===Q?void 0:Q["cmp-select-destination-placeholder"],noOptionsMessage:null===Q||void 0===Q?void 0:Q["cmp-select-empty-location-selector"],clearButtonLabel:he,dialogTitle:"Destination"},clearIcon:be,onChange:m,onClear:A,searchConfig:z,inputGroupVariant:"2",inputThemeNameSpace:Ce,menuThemeNameSpace:_e};return"PRIMARY"===K?(0,g.tZ)(v,me({},e)):(0,g.tZ)(ae,me(me({},e),{},{renderComponent:e=>(0,g.tZ)(v,me({},e)),filtersThemeNameSpace:`${ye}._secondary`}))}case"showBudgetFilter":{const e={id:`sfm-budget-${t}`,dataTest:"budget",ariaLabel:(null===Q||void 0===Q?void 0:Q["cmp-select-budget-arialabel"])||(null===Q||void 0===Q?void 0:Q["cmp-any-budget"]),currencyCode:W&&(Oe=W,!Oe||"MILES"!==Oe&&"POINTS"!==Oe?Oe:Q[`cmp-redemption-unit-${Oe.toLowerCase()}`]),value:B,isLoading:!1,labels:{label:null===Q||void 0===Q?void 0:Q["single-budget-label"],placeholder:null===Q||void 0===Q?void 0:Q["cmp-any-budget"],clearButtonLabel:he,dialogTitle:"Budget"},clearIcon:be,onChange:S,onKeyUp:F,onClear:L,inputThemeNameSpace:Ce};return"PRIMARY"===K?(0,g.tZ)(h,me({},e)):(0,g.tZ)(ae,me(me({},e),{},{renderComponent:e=>(0,g.tZ)(h,me({},e)),filtersThemeNameSpace:`${ye}._secondary`}))}case"showTravelClassFilter":{var Te;const e={id:`sfm-travel-class-${t}`,dataTest:"travel-class",value:Z||q&&(null===(Te=q[0])||void 0===Te?void 0:Te.value),options:q,isLoading:!1,labels:{label:null===Q||void 0===Q?void 0:Q["cmp-select-travel-class-label"],placeholder:(null===Q||void 0===Q?void 0:Q["cmp-travel-class-placeholder"])||"Select travel class",dialogTitle:"Travel class"},onChange:T,selectThemeNameSpace:ve,inputThemeNameSpace:Ce},a={name:"travel_class_secondaryfilter",ariaLabel:e.labels.label,inputId:`${e.id}-input`,placeholder:e.labels.placeholder,filtersThemeNameSpace:`${ye}._secondary`,isSecondaryFilter:!0,isInsideModal:J,multiple:!1};return"PRIMARY"===K?(0,g.tZ)(N,me({},e)):(0,g.tZ)(ce,me(me(me({},e),a),{},{renderComponent:t=>(0,g.tZ)(n.List,{id:e.id,dataTest:e.dataTest,children:(0,g.tZ)(n.List.Checklist,me(me({},t),{},{icon:"check"}))})}))}case"showtTravelDatesFilter":{const e={id:`travel-dates-${t}`,labels:{lblTriggerTitle:(null===Q||void 0===Q?void 0:Q["cmp-date-selector-title"])||"Dates",lblDatesPlaceholder:(null===Q||void 0===Q?void 0:Q["cmp-travel-dates-placeholder"])||"Select dates",lblDeparture:(null===Q||void 0===Q?void 0:Q["cmp-departure-date-label"])||"Departure",lblReturn:(null===Q||void 0===Q?void 0:Q["cmp-return-date-label"])||"Return",lblDepartureDatePlaceholder:(null===Q||void 0===Q?void 0:Q["cmp-departure-date-placeholder"])||"Select departure date",lblDepartureDateError:(null===Q||void 0===Q?void 0:Q["fc-booking-departure-date-error"])||"Please select a valid departure date",lblReturnDatePlaceholder:(null===Q||void 0===Q?void 0:Q["cmp-return-date-placeholder"])||"Select return date",lblReturnDateError:(null===Q||void 0===Q?void 0:Q["fc-booking-retunrn-date-error"])||"Please select a valid return date",lblClearBtn:(null===Q||void 0===Q?void 0:Q["cmp-dates-range-selector-clear-button"])||"Clear",lblDoneBtn:(null===Q||void 0===Q?void 0:Q["cmp-dates-range-selector-done-button"])||"Done",lblFlexibleDates:(null===Q||void 0===Q?void 0:Q["cmp-dates-picker-label-flexible-dates"])||"Flexible dates",lblFDopt1:(null===Q||void 0===Q?void 0:Q["cmp-flexible-dates-opt1"])||"+/-1 days",lblFDopt2:(null===Q||void 0===Q?void 0:Q["cmp-flexible-dates-opt2"])||"+/-2 days",lblFDopt3:(null===Q||void 0===Q?void 0:Q["cmp-flexible-dates-opt3"])||"+/-3 days",lblFDopt4:(null===Q||void 0===Q?void 0:Q["cmp-flexible-dates-opt4"])||"+/-4 days",lblFDopt5:(null===Q||void 0===Q?void 0:Q["cmp-flexible-dates-opt5"])||"+/-5 days"},themeNameSpaces:`${ye}`};return(0,g.tZ)(ee,me({},e))}case"showBrandedTravelClassFilter":{const e={id:`sf-branded-travel-class-${t}`,dataTest:{toggleDataTest:"brandedTravelClass-filter",allCheckboxDataTest:"brandedTravelClass-all",optionsDataTest:"brandedTravelClass-options",counterDataTest:"brandedTravelClass-counter",clearBtnDataTest:"brandedTravelClass-clear",applyBtnDataTest:"brandedTravelClass-done"},labels:{label:null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-label"],toggleLabel:null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-toggle"],multiSelected:null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-multi-selected"],allCheckboxLabel:null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-all"],counterLabel:(null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-counter-label"])||"cmp-select-multiple-branded-travel-class-counter-label",clearBtnLabel:null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-clear-btn"],applyBtnLabel:null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-apply-btn"],showMoreLabel:(null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-showMoreLabel-btn"])||"Show more",showLessLabel:(null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-showLessLabel-btn"])||"Show less",optionLabel:(null===Q||void 0===Q?void 0:Q["cmp-select-multiple-branded-travel-class-counter-option-label"])||"cmp-select-multiple-branded-travel-class-counter-option-label",backBtnLabel:null===Q||void 0===Q?void 0:Q["button-previous"]},isLoading:!1,selectedOptions:M,options:oe,onApply:w,filtersThemeNameSpace:ye,inputThemeNameSpace:Ce},a={name:"brandedTravelClass_secondaryfilter",filtersThemeNameSpace:`${ye}._secondary`,isInsideModal:J};return"PRIMARY"===K?(0,g.tZ)(f,me({},e)):(0,g.tZ)(ue,me(me({},e),a))}case"locationAttributesFilters":{const e={key:`sfm-attr-filters-${Se}`,sfmId:t,locationAttributeFiltersID:Se,locationAttributes:i,selectedLocationAttributes:j,handleOnApplyLocationAttrFilter:D,isLoading:d,filtersThemeNameSpace:ye,inputThemeNameSpace:Ce},a={name:"locationAttribute_secondaryfilter",filtersThemeNameSpace:`${ye}._secondary`,isInsideModal:J};return"PRIMARY"===K?(0,g.tZ)(y,me({},e)):(0,g.tZ)(de,me(me({},e),a))}case"showRedemptionUnitFilter":{const e={id:`sfm-redemption-unit-${t}`,dataTest:"redemption-unit",value:R,options:pe,isLoading:!1,labels:{label:(null===Q||void 0===Q?void 0:Q["cmp-redemption-filter-label"])||"Display in",placeholder:(null===Q||void 0===Q?void 0:Q["cmp-redemption-filter-placeholder"])||"Select unit",dialogTitle:"Redemption Unit"},onChange:O,selectThemeNameSpace:ve,inputThemeNameSpace:Ce},a={name:"redemption_unit_secondaryfilter",ariaLabel:e.labels.label,inputId:`${e.id}-input`,placeholder:e.labels.placeholder,filtersThemeNameSpace:`${ye}._secondary`,isSecondaryFilter:!0,isInsideModal:J,multiple:!1};return"PRIMARY"===K?(0,g.tZ)(_,me({},e)):(0,g.tZ)(ce,me(me(me({},e),a),{},{renderComponent:e=>(0,g.tZ)(n.List,{children:(0,g.tZ)(n.List.Checklist,me(me({},e),{},{icon:"check"}))})}))}case"showNumberOfStopsFilter":{const e={id:`sfm-number-of-stops-${t}`,dataTest:"number-of-stops",value:V,options:ge,isLoading:!1,labels:{label:(null===Q||void 0===Q?void 0:Q["cmp-stops-filter-label"])||"Number of stops",dialogTitle:"Number of Stops"},onChange:$,selectThemeNameSpace:ve,inputThemeNameSpace:Ce},a={name:"number_of_stops_secondaryfilter",ariaLabel:e.labels.label,inputId:`${e.id}-input`,filtersThemeNameSpace:`${ye}._secondary`,isSecondaryFilter:!0,isInsideModal:J,multiple:!1};return"PRIMARY"===K?(0,g.tZ)(C,me({},e)):(0,g.tZ)(ce,me(me(me({},e),a),{},{renderComponent:e=>(0,g.tZ)(n.List,{children:(0,g.tZ)(n.List.Checklist,me(me({},e),{},{icon:"check"}))})}))}case"showJourneyTypeFilter":{const e={id:`sfm-journey-type-${t}`,dataTest:"journey-type",value:U,options:fe,isLoading:!1,labels:{label:(null===Q||void 0===Q?void 0:Q["cmp-label-select-journey-type"])||"Journey Types",placeholder:(null===Q||void 0===Q?void 0:Q["cmp-journey-type-placeholder"])||"Select journey type",dialogTitle:"Journey Type"},onChange:x,selectThemeNameSpace:ve,inputThemeNameSpace:Ce,placeholder:(null===Q||void 0===Q?void 0:Q["cmp-journey-type-placeholder"])||"Select journey type"},a={name:"journey_type_secondaryfilter",ariaLabel:e.labels.label,inputId:`${e.id}-input`,placeholder:e.labels.placeholder,filtersThemeNameSpace:`${ye}._secondary`,isSecondaryFilter:!0,isInsideModal:J,multiple:!1};return"PRIMARY"===K?(0,g.tZ)(b,me({},e)):(0,g.tZ)(ce,me(me(me({},e),a),{},{renderComponent:e=>(0,g.tZ)(n.List,{children:(0,g.tZ)(n.List.Checklist,me(me({},e),{},{icon:"check"}))})}))}case"showSortingFilter":{const e={id:`sfm-sorting-${t}`,dataTest:"sorting",value:X,options:ne,isLoading:!1,labels:{label:(null===Q||void 0===Q?void 0:Q["cmp-sorting-filter-label"])||"Sort",placeholder:(null===Q||void 0===Q?void 0:Q["cmp-sorting-filter-placeholder"])||"Select sorting criteria",dialogTitle:(null===Q||void 0===Q?void 0:Q["cmp-sorting-filter-label"])||"Sort"},onChange:I,selectThemeNameSpace:ve,inputThemeNameSpace:Ce,placeholder:(null===Q||void 0===Q?void 0:Q["cmp-sorting-filter-placeholder"])||"Select sorting criteria"},a={name:"sorting_secondaryfilter",ariaLabel:e.labels.label,inputId:`${e.id}-input`,filtersThemeNameSpace:`${ye}._secondary`,isSecondaryFilter:!0,multiple:!1};return"PRIMARY"===K?(0,g.tZ)(te,me({},e)):(0,g.tZ)(ce,me(me(me({},e),a),{},{renderComponent:e=>(0,g.tZ)(n.List,{children:(0,g.tZ)(n.List.Checklist,me(me({},e),{},{icon:"check"}))})}))}default:return(0,g.tZ)(g.HY,{})}var Oe};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=e=>{const t=(0,p.L)(),{0:a,1:l}=(0,r.useState)(!1),{filterSettings:o,hasLocationAttributeFilters:i=!1,themeNameSpace:s="",handleOnclearAllFilters:c=(()=>{})}=e,{visualization:d,showSortingFilter:u=!1}=o,m="SECONDARY"===d,f=["showOriginFilter","showDestinationFilter","showtTravelDatesFilter","showBudgetFilter","showTravelClassFilter",m?"showRedemptionUnitFilter":"showBrandedTravelClassFilter",m?"showNumberOfStopsFilter":"locationAttributesFilters",m?"showJourneyTypeFilter":"showRedemptionUnitFilter",m?"showBrandedTravelClassFilter":"showNumberOfStopsFilter",m?"locationAttributesFilters":"showJourneyTypeFilter","showSortingFilter"].reduce(((e,t)=>{const a=o[t];return"locationAttributesFilters"===t&&Array.isArray(a)?e.push(...a.map((e=>`${t}_${e}`))):null!==a&&(a||"locationAttributesFilters"===t&&i)&&e.push(t),e}),[]),h=m&&f.filter((e=>"showSortingFilter"!==e)),b=m?h.slice(0,3):f.slice(0,4),y=m?h.slice(3):f.slice(4),v=(null===f||void 0===f?void 0:f.length)>4?"md:grid-cols-5":(null===f||void 0===f?void 0:f.length)<=3?"md:grid-cols-3":"md:grid-cols-4";return f.length>0&&(0,g.BX)(n.Flex,{className:"flex-row",themeNameSpaces:[`${s}._container`],dataTest:"filters-container",children:[(0,g.BX)(n.Box,{className:""+("PRIMARY"===d?`w-full grid grid-cols-1 gap-y-2 md:gap-x-4 ${v}`:"flex flex-row flex-wrap sm:flex-1"),children:[b.map(((t,a)=>(0,g.tZ)(ge,he({name:t},e),`${t}-${a}`))),y.length>0&&(0,g.BX)(n.Dialog,{open:a,onOpenChange:l,lockScroll:!0,children:[(0,g.tZ)(n.Dialog.Trigger,{asChild:!0,children:(0,g.tZ)(n.Flex,{className:`flex-col justify-end ${m&&"mr-2 mb-2"}`,children:(0,g.tZ)(n.Button,{className:"truncate w-full md:w-auto px-[20px]",themeNameSpaces:[m?`${s}._filters._secondary._moreFilters._toggle`:`${s}._filters._moreFilters._toggle`],onClick:()=>l(!0),dataTest:"more-filters-button",ariaHasPopup:"dialog",children:(null===t||void 0===t?void 0:t["cmp-more-filters-btn"])||"More Filters"})})}),(0,g.BX)(n.Dialog.Content,{className:oe()("flex flex-col w-screen max-h-screen",{"sm:max-w-xl sm:mx-auto sm:m-5 sm:p-8":!m,"sm:w-[648px] sm:my-11 mx-auto":m}),"aria-modal":"true","aria-label":(null===t||void 0===t?void 0:t["cmp-more-filters-dialog-title"])||"Filters",themeNameSpaces:[`${s}._modal`],children:[(0,g.BX)(n.Dialog.Heading,{className:"flex items-center justify-between flex-shrink-0",themeNameSpaces:[`${s}._modal._header`],children:[(0,g.tZ)(n.Text,{as:"h3",className:"ltr:ml-3 rtl:mr-3",themeNameSpaces:[`${s}._modal._header._title`],children:(null===t||void 0===t?void 0:t["cmp-more-filters-dialog-title"])||"Filters"}),(0,g.tZ)(n.Button,{className:"flex justify-center mr-3 items-center w-auto",themeNameSpaces:[`${s}._modal._header._closeButton`],onClick:()=>l(!1),children:"close"})]}),(0,g.tZ)(n.Dialog.Body,{className:oe()("flex flex-col space-y-2",{"max-sm:flex-1 max-sm:overflow-y-auto":!m,"flex-1 overflow-y-auto":m}),themeNameSpaces:[`${s}._modal._body`],children:y.map(((t,a)=>(0,g.tZ)(ge,he(he({name:t},e),{},{isInsideModal:!0}),`${t}-${a}`)))}),(0,g.BX)(n.Dialog.Footer,{className:"flex w-full items-center justify-center sm:justify-end sm:px-5 sm:py-2 flex-shrink-0",themeNameSpaces:[`${s}._modal._footer`],children:[(0,g.tZ)(n.Button,{className:" w-36 ",themeNameSpaces:[`${s}._modal._footer._clearButton`],onClick:()=>c(),children:(null===t||void 0===t?void 0:t["cmp-more-filters-dialog-btn-clear"])||"Clear All"}),(0,g.tZ)(n.Button,{className:"w-36 ltr:ml-3 rtl:mr-3",themeNameSpaces:[`${s}._modal._footer._closeButton`],onClick:()=>l(!1),children:(null===t||void 0===t?void 0:t["cmp-more-filters-dialog-btn-close"])||"Close"})]})]})]})]}),u&&m&&(0,g.tZ)(ge,he({name:"showSortingFilter"},e),"showSortingFilter")]})},ye=a(27057);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _e=({sfmId:e="",componentName:t="",tagName:a="",filtersData:l,filterSettings:o,sortingFilterValues:i=[],filterFares:n,searchOriginAirports:s,searchDestinationAirports:d,themeNameSpace:p,registerGetFiltersPayload:f})=>{const{showOriginFilter:h=!1,showDestinationFilter:b=!1,showBudgetFilter:y=!1,showTravelClassFilter:v=!1,showtTravelDatesFilter:C,showBrandedTravelClassFilter:_=!1,showRedemptionUnitFilter:N=!1,showNumberOfStopsFilter:S,showJourneyTypeFilter:T=!1,showSortingFilter:O,locationAttributesFilters:w=[],visualization:D}=o,{urlParameters:{productCategory:$}}=(0,r.useContext)(m.Z),x=w&&w.length>0,{originAirports:I,originAirportsLoading:F,destinationAirports:k,destinationAirportsLoading:L,locationAttributes:P,locationAttributesLoading:E,originPrepopulation:{originUrlParameter:B=null,originNearestAirport:Z=null,originPrepSetting:M=null},destinationPrepopulationCode:j=null,budgetPrepopulationValue:R,travelClassPrepopulationValue:V="",travelDatesDeparturePrepopulation:U,travelDatesReturnPrepopulation:X,travelDatesJourneyType:H,brandedTravelClassesPrepopulationValues:G=[],locationAttributesPrepopulation:z,redemptionUnitPrepopulationValue:Y="",numberOfStopsPrepopulationValue:J,journeyTypePrepopulationValue:W,sortingPrepropulationValue:K,budgetRedemptionUnit:Q,travelClassesData:q,searchConfig:ee}=l,te=B||M,{actionDispatcher:ae}=(0,r.useContext)(m.Z),le=(0,r.useRef)(!1),{0:re,1:oe}=(0,r.useState)(null),{0:ie,1:ne}=(0,r.useState)(null),{0:se,1:ce}=(0,r.useState)(null),{0:de,1:ue}=(0,r.useState)(null),{0:pe,1:me}=(0,r.useState)(null),{0:ge,1:fe}=(0,r.useState)(null),{0:he,1:ve}=(0,r.useState)(null),{0:_e,1:Ne}=(0,r.useState)(null),{0:Se,1:Te}=(0,r.useState)(""),{0:Oe,1:we}=(0,r.useState)(null),{0:De,1:$e}=(0,r.useState)(null),{0:xe,1:Ie}=(0,r.useState)(null),{0:Fe,1:ke}=(0,r.useState)(null),{0:Ae,1:Le}=(0,r.useState)(null),{0:Pe,1:Ee}=(0,r.useState)({}),Be=(0,r.useRef)(!0),Ze=(0,r.useRef)({}),Me=(0,r.useRef)(null),je=(0,r.useCallback)((e=>{Me.current=e}),[]),Re=()=>{le.current=!0},Ve=()=>{Re(),re&&oe(null),Oe&&we(null),Z&&ke(null)},Ue=()=>{Re(),ie&&ne(null),De&&$e(null)},Xe=()=>{Te(""),ce("")},He=()=>{re&&oe(null),ie&&ne(null),s({}),d({})},Ge=(0,r.useCallback)(c()((l=>{ce(l);const{countryIsoCode:r}=re&&I.find((e=>e.value===re))||{},{countryIsoCode:o}=ie&&k.find((e=>e.value===ie))||{};ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_budget",data:{filter:"select-budget",componentName:t,moduleId:e,tagName:a,budget:l,origin:re||"",originAirportIataCode:re||"",originCountryCode:r||"",destination:ie||"",destinationAirportIataCode:ie||"",destinationCountryCode:o||"",date:(new Date).toISOString().slice(0,10)}}})}),1e3),[re,ie]),ze=(0,r.useCallback)((l=>{var r,o;const{journeyDates:i={},isFlexible:n,isRoundTrip:s}=l;let c={};const d=n?null===i||void 0===i||null===(r=i.from)||void 0===r?void 0:r.start:null===i||void 0===i?void 0:i.start,u=n?null===i||void 0===i||null===(o=i.from)||void 0===o?void 0:o.end:null===i||void 0===i?void 0:i.start;if((d||u)&&(c.departure={start:d,end:u}),s){var p,m;const e=n?null===i||void 0===i||null===(p=i.to)||void 0===p?void 0:p.start:null===i||void 0===i?void 0:i.end,t=n?null===i||void 0===i||null===(m=i.to)||void 0===m?void 0:m.end:null===i||void 0===i?void 0:i.end;(e||t)&&(c.return={start:e,end:t})}var g,f;(Ee(c),c&&("departure"in c||"return"in c))&&ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_date_range",data:{filter:"select-date-range",componentName:t,moduleId:e,tagName:a,travelDates:c,returnDate:null===c||void 0===c||null===(g=c.return)||void 0===g?void 0:g.start,departureDate:null===c||void 0===c||null===(f=c.departure)||void 0===f?void 0:f.start,date:(new Date).toISOString().slice(0,10)}}})}),[Ee]),Ye=e=>{const{geoId:t}=I.find((t=>t.value===e))||{};return t},Je=e=>{const{geoId:t}=k.find((t=>t.value===e))||{};return t},We=(e,t)=>e.some((({value:e})=>e===t)),Ke=()=>Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},h&&re?{origin:{code:re,geoId:Ye(re)}}:{}),b&&ie?{destination:{code:ie,geoId:Je(ie)}}:{}),y&&se?{budget:{max:parseInt(se,10)}}:{}),Q&&{budgetRedemptionUnit:Q}),v&&de?{travelClass:de}:{}),_&&_e&&_e.length>0?{brandedTravelClasses:_e.map((({value:e})=>e))}:{}),x&&xe&&xe.length>0?{locationAttributes:xe.map((({categoryId:e,tags:t})=>({categoryId:e,tagsIds:t})))}:{}),N&&pe?{redemptionUnit:pe}:{}),S&&ge?{numberOfStops:ge}:{}),T&&he||$?{journeyType:he||$}:{}),O&&Ae?{sorting:Ae}:{}),C&&Pe?{travelDates:Ce({},Pe)}:{}),Qe=e=>{s({selectedAirportCode:e})},qe=e=>{d({selectedAirportCode:e})};(0,r.useEffect)((()=>{te&&""!==te&&we(te)}),[te]),(0,r.useEffect)((()=>{j&&""!==j&&$e(j)}),[j]),(0,r.useEffect)((()=>{R&&(Te(R),ce(R))}),[R]),(0,r.useEffect)((()=>{(V&&!de||V&&V!==de)&&ue(V)}),[V]),(0,r.useEffect)((()=>{(Y&&!pe||Y&&Y!==pe)&&me(Y)}),[Y]),(0,r.useEffect)((()=>{G&&G.length>0&&!_e&&Ne(G.map((e=>({value:e}))))}),[G]),(0,r.useEffect)((()=>{z&&z.length>0&&!xe&&Ie(z)}),[z]),(0,r.useEffect)((()=>{(J&&!ge||J&&J!==ge)&&fe(J)}),[J]),(0,r.useEffect)((()=>{(W&&!he||W&&W!==he)&&ve(W)}),[W]),(0,r.useEffect)((()=>{(K&&!he||K&&K!==Ae)&&Le(K)}),[K]),(0,r.useEffect)((()=>{Z&&""!==Z&&ke(Z)}),[Z]),(0,r.useEffect)((()=>{if(Be.current&&(U||X)){const e=((e,t)=>{const a={};return e&&""!==e&&(a.departure={start:e,end:e}),t&&""!==t&&(a.return={start:t,end:t}),(0,ye.Qr)(a)?{}:a})(U,X);Ee(e),Be.current=!1}}),[U,X]),(0,r.useEffect)((()=>{I&&I.length>0&&Oe&&""!==Oe&&null===re&&We(I,Oe)&&oe(Oe),re&&Oe&&!We(I,Oe)&&oe(null)}),[I,Oe]),(0,r.useEffect)((()=>{k&&k.length>0&&De&&""!==De&&null===ie&&We(k,De)&&ne(De),ie&&De&&!We(k,De)&&ne(null)}),[k,De]),(0,r.useEffect)((()=>{!B&&I&&I.length>0&&We(I,Z)&&""!==re&&oe(Fe)}),[I,Fe]),(0,r.useEffect)((()=>{null===re&&!le.current||Oe&&re===Oe||Fe&&re===Fe||(re&&b&&!ie&&qe(re),!re&&ie&&Qe(ie),re||!b||ie||He(),n(Ke()))}),[re]),(0,r.useEffect)((()=>{null===ie&&!le.current||De&&ie===De||(ie&&h&&!re&&Qe(ie),!ie&&re&&qe(re),ie||!h||re||He(),n(Ke()))}),[ie]),(0,r.useEffect)((()=>{null===se||R&&se===R||n(Ke())}),[se]),(0,r.useEffect)((()=>{null===de||V&&de===V||n(Ke())}),[de]),(0,r.useEffect)((()=>{(0,ye.Qr)(Pe)&&(0,ye.Qr)(Ze.current)||(u()(Pe,Ze.current)||n(Ke()),Ze.current=Pe)}),[Pe]),(0,r.useEffect)((()=>{null===pe||Y&&pe===Y||n(Ke())}),[pe]),(0,r.useEffect)((()=>{null!==_e&&n(Ke())}),[_e]),(0,r.useEffect)((()=>{null===xe||u()(z,xe)||n(Ke())}),[xe]),(0,r.useEffect)((()=>{null!==ge&&n(Ke())}),[ge]),(0,r.useEffect)((()=>{null!==he&&he!==W&&n(Ke())}),[he]),(0,r.useEffect)((()=>{null!==Ae&&n(Ke())}),[Ae]),(0,r.useEffect)((()=>{f&&"function"===typeof f&&f(Ke)}),[f]);const et=(0,r.useMemo)((()=>({travelDatesJourneyType:H,selectedTravelDates:Pe,handleTravelDateAccept:ze,registerResetDates:je,visualization:D})),[H,Pe,D,ze,je]);return(0,g.tZ)(A,{value:et,children:(0,g.tZ)(be,{sfmId:e,filterSettings:o,sortingFilterValues:i,originAirports:I,destinationAirports:k,locationAttributes:P,originAirportsLoading:F,destinationAirportsLoading:L,locationAttributesLoading:E,handleOnChangeOriginFilter:l=>{if(l!==re&&""!==l){Re(),we(null),oe(l);const{countryIsoCode:r}=I.find((e=>e.value===l))||{};ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_origin",data:{filter:"select-origin",componentName:t,moduleId:e,tagName:a,origin:l,originAirportIataCode:l,originCountryCode:r,date:(new Date).toISOString().slice(0,10)}}})}},handleOnChangeDestinationFilter:l=>{if(l!==ie&&""!==l){Re(),$e(null),ne(l);const{countryIsoCode:r}=k.find((e=>e.value===l))||{};ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_destination",data:{filter:"select-destination",componentName:t,moduleId:e,tagName:a,destination:l,destinationAirportIataCode:l,destinationCountryCode:r,date:(new Date).toISOString().slice(0,10)}}})}},handleOnChangeBudgetFilter:e=>{"0"!==e&&Te(e)},handleOnChangeTravelClassFilter:l=>{const{value:r}=l||{};ue(r),ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_fare_class",data:{filter:"select-travel-class",componentName:t,moduleId:e,tagName:a,travelClass:r,fareClass:r,date:(new Date).toISOString().slice(0,10)}}})},handleOnChangeRedemptionUnitFilter:l=>{const{value:r}=l||{};me(r),ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_redemption",data:{filter:"select-redemption-unit",componentName:t,moduleId:e,tagName:a,travelClass:r,date:(new Date).toISOString().slice(0,10)}}})},handleOnApplyBrandedTravelClassFilter:l=>{const r=l.map((e=>({label:e,value:e})));Ne(r),ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select-fare-class",data:{filter:"select_fare_class",componentName:t,moduleId:e,tagName:a,brandedTravelClass:l,date:(new Date).toISOString().slice(0,10)}}})},handleOnApplyLocationAttrFilter:(e,t)=>{const a={categoryId:t,tags:e},l=xe&&xe.some((({categoryId:e})=>e===t));let r=[];l&&e&&0===e.length&&(r=xe.filter((({categoryId:e})=>e!==t))),l&&e&&e.length>0&&(r=xe.map((a=>a.categoryId===t?Ce(Ce({},a),{},{tags:e}):a))),!l&&xe&&(r=[...xe,a]),l||xe||(r=[a]),Ie(r)},handleOnChangeNumberOfStopsFilter:l=>{const{value:r}=l||{};fe(r),ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_stops",data:{filter:"select-number-of-stops",componentName:t,moduleId:e,tagName:a,numberOfStops:r,date:(new Date).toISOString().slice(0,10)}}})},handleOnChangeJourneyType:l=>{const{value:r}=l||{};ve(r),ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_journey_type",data:{filter:"select-journey-types",componentName:t,moduleId:e,tagName:a,journeyType:r,date:(new Date).toISOString().slice(0,10)}}})},handleOnChangeSorting:l=>{const{value:r}=l||{};Le(r),ae.dispatch({type:"PUBLISH_EVENT",payload:{name:"select_sorting",data:{filter:"select-sorting",componentName:t,moduleId:e,tagName:a,journeyType:r,date:(new Date).toISOString().slice(0,10)}}})},debouncedOnKeyUpHandler:Ge,handleOnClearOriginFilter:Ve,handleOnClearDestinationFilter:Ue,handleOnClearBudgetFilter:Xe,handleOnclearAllFilters:()=>{null!==re&&Ve(),null!==ie&&Ue(),null!==se&&Xe(),null!==de&&v&&ue(""),null!==pe&&me(null),null!==ge&&fe(null),null!==he&&ve(""),null!==_e&&Ne([]),null!==xe&&Ie([]),null!==Ae&&Le(""),(0,ye.Qr)(Pe)||(Ee({}),Me.current&&Me.current())},selectedOrigin:re,selectedDestination:ie,budgetInputValue:Se,selectedTravelClass:de,selectedBrandedTravelClasses:_e,selectedLocationAttributes:xe,selectedRedemptionUnit:pe,selectedNumberOfStops:ge,selectedJourneyType:he,selectedSortingOption:Ae,hasLocationAttributeFilters:x,themeNameSpace:p,travelClassesData:q,searchConfig:ee})})},Ne=a(5152);const Se=(0,Ne.default)((()=>a.e(2967).then(a.bind(a,54053))),{loadableGenerated:{webpack:()=>[54053],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./ColumnsView"]}}),Te=(0,Ne.default)((()=>a.e(3582).then(a.bind(a,93582))),{loadableGenerated:{webpack:()=>[93582],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./TableView"]}}),Oe=(0,Ne.default)((()=>Promise.all([a.e(8684),a.e(7)]).then(a.bind(a,20007))),{loadableGenerated:{webpack:()=>[20007],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./CarouselView"]}}),we={COLUMNS:{viewCmp:Se,viewThemeNameSpace:"_columns",viewMobile:()=>we.COLUMNS},TABLE:{viewCmp:Te,viewThemeNameSpace:"_table",viewMobile:()=>we.COLUMNS},GRID:{viewCmp:(0,Ne.default)((()=>a.e(7588).then(a.bind(a,37588))),{loadableGenerated:{webpack:()=>[37588],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./GridView"]}}),viewThemeNameSpace:"_grid",viewMobile:()=>we.CAROUSEL},CAROUSEL:{viewCmp:Oe,viewThemeNameSpace:"_carousel",viewMobile:()=>we.CAROUSEL},NOFARES:{viewCmp:(0,Ne.default)((()=>a.e(8621).then(a.bind(a,68621))),{loadableGenerated:{webpack:()=>[68621],modules:["../atoms/widgets/StandardFareModule/parts/presentational/views/index.js -> ./NoFaresView"]}}),viewThemeNameSpace:"_noFares",viewMobile:()=>we.NOFARES}},De=["viewType","themeNameSpace","titleId"];function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}var xe=e=>{let{viewType:t,themeNameSpace:a,titleId:o}=e,i=(0,le.Z)(e,De);const{pageInfo:{textDirection:n,deviceType:s}}=(0,r.useContext)(m.Z),c=(0,p.L)(),{viewCmp:d,viewThemeNameSpace:u}=((e,t)=>{const a=e in we?we[e]:we.TABLE;return"desktop"===t?a:a.viewMobile()})(t,s)||{},g="RTL"===n,f={hour:null===c||void 0===c?void 0:c["cmp-hour"],hours:null===c||void 0===c?void 0:c["cmp-hours"],day:null===c||void 0===c?void 0:c["cmp-day"],days:null===c||void 0===c?void 0:c["cmp-days"],minute:null===c||void 0===c?void 0:c["cmp-minute"],minutes:null===c||void 0===c?void 0:c["cmp-minutes"]};return r.createElement(d,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({mainThemeNameSpace:a,themeNameSpace:`${a}.${u}`,isRtl:g,labels:c,units:f,deviceType:s,titleId:o},i))},Ie=a(41075);var Fe=({viewType:e,count:t=0,total:a=0})=>{const{0:l,1:o}=(0,r.useState)(0),i=(0,r.useRef)(null),n=(0,p.L)(),s=`${(null===n||void 0===n?void 0:n["cmp-pagination-showing"])||"cmp-pagination-showing"}`,c=`${(null===n||void 0===n?void 0:n["cmp-fare-as-result"])||"cmp-fare-as-result"}`,d=`${(null===n||void 0===n?void 0:n["cmp-fares-as-results"])||"cmp-fares-as-results"}`,u=`${(null===n||void 0===n?void 0:n["cmp-fare-result"])||"cmp-fare-result"}`,m=`${(null===n||void 0===n?void 0:n["cmp-fares-results"])||"cmp-fares-results"}`;return(0,r.useEffect)((()=>{o((e=>e+1))}),[t]),(0,g.tZ)("span",{ref:i,className:"sr-only",children:"CAROUSEL"===e?1===t?`${a} ${c}`:`${a} ${d}`:1===t?`${s} ${t} ${u} ${a}`:`${s} ${t} ${m} ${a}`},l)};function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Le=({id:e="",title:t="",subtitle:a="",footer:l="",fares:o,viewType:i,siteEdition:s,themeNameSpace:c="",onFareClick:d=(()=>{}),filterFares:u=(()=>{}),fetchMoreFares:p=(()=>{}),fetchPageLoadFares:m=(()=>{}),searchOriginAirports:f=(()=>{}),searchDestinationAirports:h=(()=>{}),viewSettings:b,filtersData:y={airports:[],airportsLoading:!1,originPrepopulation:{originUrlParameter:"",originNearestAirport:"",originPrepSetting:""},destinationPrepopulationCode:""},filterSettings:v={showOriginFilter:!0,showDestinationFilter:!0,showBudgetFilter:!1,currencyCode:""},sortingFilterValues:C=[],networkStatus:_,showSFM:N,hasFares:S,componentName:T="",tagName:O="",total:w,registerGetFiltersPayload:D})=>{const $=(0,r.useRef)({staticTitle:t,staticSubTitle:a}),x=(0,r.useRef)(null),I=(0,r.useRef)(o),{0:F,1:k}=(0,r.useState)(!1),A=(0,r.useRef)(!0),L=(0,r.useRef)(!1),P="ready"===_;return(0,r.useEffect)((()=>{if(A.current||!P)return A.current&&(A.current=!1),void(I.current=o);if(!L.current)return L.current=!0,void(I.current=o);if(I.current!==o){k(!0);const e=setTimeout((()=>k(!1)),2e3);return I.current=o,()=>clearTimeout(e)}I.current=o}),[o,P]),N&&(0,g.tZ)("div",{ref:x,"data-em-sfm-id":e,"data-em-sfm-type":i,children:(0,g.BX)(n.Box,{className:"flex-col my-2",themeNameSpaces:[`${c}`],children:[$.current.staticTitle&&(0,g.tZ)(n.Text,{as:"h2",id:`fare-module-title-${e}`,themeNameSpaces:[`${c}._title`],dataTest:"title",children:(0,ye.rg)($.current.staticTitle,{replace:{a:(e,t)=>(0,g.tZ)(n.Link,Ae(Ae({},e),{},{themeNameSpaces:[`${c}._title._link`],children:t}))}})}),$.current.staticSubTitle&&(0,g.tZ)(n.Text,{themeNameSpaces:[`${c}._subtitle`],dataTest:"subtitle",children:$.current.staticSubTitle}),(0,g.tZ)(Ie.Z,{children:(0,g.tZ)(_e,{sfmId:e,componentName:T,tagName:O,filtersData:y,filterSettings:v,filterFares:u,searchOriginAirports:f,searchDestinationAirports:h,themeNameSpace:c,sortingFilterValues:C,viewType:i,registerGetFiltersPayload:D})}),(0,g.tZ)(Ie.Z,{children:(0,g.tZ)(xe,{id:e,siteEdition:s,fares:o,viewType:S?i:"NOFARES",themeNameSpace:c,onFareClick:d,fetchMoreFares:p,fetchPageLoadFares:()=>{m(),x.current.scrollIntoView()},viewSettings:b,networkStatus:_,title:t,titleId:`fare-module-title-${e}`})}),(0,g.tZ)("div",{"aria-live":"polite",role:"status",id:`results-announcer-container-${e}-${i}`,children:F&&S&&(0,g.tZ)(Fe,{viewType:i,count:o.length,total:w})}),l&&(0,g.tZ)(n.Text,{className:"",themeNameSpaces:[`${c}._footer`],dataTest:"disclaimer",children:(0,ye.rg)(l,{replace:{a:(e,t)=>(0,g.tZ)(n.Link,Ae(Ae({},e),{},{themeNameSpaces:[`${c}._footer._link`],children:t}))}})})]})})},Pe=a(50959),Ee=a(91642);const Be=Ee.Ps`
query GetStandardFareModule($page: PageInput!, $id: String!, $pageNumber: Int, $limit: Int, $flatContext: FlatContextInput, $urlParameters: StandardFareModuleUrlParameters, $filters: StandardFareModuleFiltersInput, $nearestOriginAirport: AirportInput) {
  standardFareModule(page: $page, id: $id, pageNumber: $pageNumber, limit: $limit, flatContext: $flatContext, urlParameters: $urlParameters, filters: $filters, nearestOriginAirport: $nearestOriginAirport) {
    id
    metaData{
        name
        title
        subtitle
        footer
        viewType
        journeyType
    }
    visualizationSettings{
      includeImages
      includeCta
      numberOfColumns
      textAlignment
      showJourneyType
      showTravelClass
      showFareTimestamp
      showDates
      showTaxesFees
      carouselVisualizationType
      ctaButtonStyle
    }
    filterSettings{
      visualization
      showOriginFilter
      showDestinationFilter
      showBudgetFilter
      showTravelClassFilter
      showtTravelDatesFilter
      showBrandedTravelClassFilter
      locationAttributesFilters
      validateOriginsCountryMarket
      currencyCode
      restrictOriginFilter
      restrictDestinationFilter
      showRedemptionUnitFilter
      showNumberOfStopsFilter
      showJourneyTypeFilter
      showSortingFilter
    }
    sortingFilterValues
    filterRestrictions{
      origin{
        geoId
        type
      }
      destination{
        geoId
        type
      }
    }
    prepopulationSettings{
      originAirportCode
      destinationAirportCode
      budgetMaximumAmount
      travelClass
      travelDatesDeparture
      travelDatesReturn
      brandedTravelClasses
      locationAttributes {
        categoryId
        tags
      }
      redemptionUnit
      numberOfStops
      journeyType
      sorting
      geolocation
    }
    pagination{
          currentPage
          from
          to
          lastPage
          itemsPerPage
          total
    }
    fares(pageNumber:$pageNumber, limit:$limit, urlParameters:$urlParameters, nearestOriginAirport:$nearestOriginAirport){
      image
      originCity
      destinationCity
      usdTotalPrice
      currencyCode
      currencySymbol
      originAirportCode  
      destinationAirportCode
      formattedTravelClass
      travelClass
      brandedFareClass
      farenetTravelClass
      departureDate
      formattedDepartureDate
      returnDate   
      formattedReturnDate  
      flightType 
      formattedFlightType
      formattedAdditionalFeesAmount
      priceLastSeen{
        value,
        unit
      } 
      redemption{
        unit
        amount
        taxAmount
        category
        formattedTaxAmount
        formattedAmount
        shortenedFormattedTaxAmount
        formattedTaxAmount
      }
      formattedTotalPrice
      totalPrice
      promoCode
    },
    error
  }
 }
`,Ze=Ee.Ps`
query GetStandardFareModuleAirports($page: PageInput!, $filters: StandardFareModuleAirportsFilterInput!) {
  standardFareModuleAirports(page:$page, filters:$filters){
    airports {
      geoId
      value
      label
      countryIsoCode
    }
  }
}
`,Me=Ee.Ps`
query GetStandardFareModuleLocationAttributes($page: PageInput!) {
  locationAttributes(page: $page) {
    id
    name
    tags {
      id
      name
    }
  }
}
`,je=Ee.Ps`
  query GetOrganizationTravelClasses($page: PageInput!) {
    organizationDataCollection(page: $page){
      travelClasses {
        label
        value
      }
      brandedTravelClasses {
        label
        value
        travelClass
      }
      redemptionUnits
    }
  }
`,Re=Ee.Ps`
  query GetOrganizationSearchConfig($page: PageInput!) {
    organizationDisplayDefault(page: $page){
      searchConfig {
        caseSensitive
        includeScore
        includeMatches
        shouldSort
        findAllMatches
        threshold
        location
        distance
        maxPatternLength
        minMatchCharLength
        keys
        ignoreLocation
      }
    }
  }
`;Ee.Ps`
  query GetOrganizationRedemptionUnits($page: PageInput!) {
    organizationDataCollection(page: $page){
      travelClasses {
        label
        value
      }
    }
  }
`;var Ve=a(79647),Ue=a(32800),Xe=a(46323),He=a(78138),Ge=a.n(He);const ze=e=>{const{datasource:t={},geo:a={}}=e||{},l={siteEditionCountryGeoId:(0,ye.mR)(a,"language.site_edition_country_geo_id",null),templateId:(0,ye.mR)(t,"template_id",null),templateName:(0,ye.mR)(t,"step",null),originLocationLevel:(0,ye.mR)(a,"location.level_origin",null),originGeoId:(0,ye.mR)(a,"location.origin_geo_id",null),destinationLocationLevel:(0,ye.mR)(a,"location.level_destination",null),destinationGeoId:(0,ye.mR)(a,"location.destination_geo_id",null),OriginAirportName:(0,ye.mR)(a,"location.user_input_origin_airport_code",null),OriginCityName:(0,ye.mR)(a,"location.user_input_origin_city_name",null),OriginStateName:(0,ye.mR)(a,"location.user_input_origin_state_name",null),OriginCountryName:(0,ye.mR)(a,"location.user_input_origin_country_name",null),DestinationAirportName:(0,ye.mR)(a,"location.user_input_destination_airport_code",null),DestinationCityName:(0,ye.mR)(a,"location.user_input_destination_city_name",null),DestinationStateName:(0,ye.mR)(a,"location.user_input_destination_state_name",null),DestinationCountryName:(0,ye.mR)(a,"location.user_input_destination_country_name",null),fromOriginCityName:(0,ye.mR)(a,"location.origin_city_preposition_from",null),fromOriginStateName:(0,ye.mR)(a,"location.origin_state_preposition_from",null),fromOriginCountryName:(0,ye.mR)(a,"location.origin_country_preposition_from",null),fromDestinationCityName:(0,ye.mR)(a,"location.destination_city_preposition_from",null),fromDestinationStateName:(0,ye.mR)(a,"location.destination_state_preposition_from",null),fromDestinationCountryName:(0,ye.mR)(a,"location.destination_country_preposition_from",null),toOriginCityName:(0,ye.mR)(a,"location.origin_city_preposition_to",null),toOriginStateName:(0,ye.mR)(a,"location.origin_state_preposition_to",null),toOriginCountryName:(0,ye.mR)(a,"location.origin_country_preposition_to",null),toDestinationCityName:(0,ye.mR)(a,"location.destination_city_preposition_to",null),toDestinationStateName:(0,ye.mR)(a,"location.destination_state_preposition_to",null),toDestinationCountryName:(0,ye.mR)(a,"location.destination_country_preposition_to",null)};return(0,ye.vQ)(l)},Ye=e=>{const{fare:{brandedFareClass:t,originAirportCode:a,origin:l,destinationAirportCode:r,destination:o,departureDate:i,returnDate:n,journeyType:s,flightType:c,siteEdition:d,currencyCode:u,travelClass:p,farenetTravelClass:m,promoCode:g,passengers:f=1,blackoutDates:h,promotions:b,accessibilityNeeds:y,redemption:v={}},tagName:C,moduleId:_}=e,{amount:N,category:S,formattedTaxAmount:T,shortenedFormattedTaxAmount:O,taxAmount:w,unit:D}=v||{};return{brandedTravelClass:t,origin:a||l,destination:r||o,departureDate:Ge()(i),returnDate:n&&Ge()(n),siteEdition:d,currencyCode:u,journeyType:s||("ROUND_TRIP"===c||"EACH_WAY"===c?"rt":"ow"),travelClass:p,farenetTravelClass:m,promoCode:g,passengers:f,flightType:!c||"ROUND_TRIP"!==c&&"EACH_WAY"!==c?"ow":"rt",travelers:{age1:f},deeplinkSiteEdition:d,useMiles:!(null===v||void 0===v||!v.unit),blackoutDates:h,promotions:b,accessibilityNeeds:y,tagName:C,moduleId:_,redemption:{amount:N,category:S,formattedTaxAmount:T,shortenedFormattedTaxAmount:O,taxAmount:w,unit:D},redemptionType:D&&D.toLowerCase()}},Je=e=>{const{module:t,moduleId:a,tenant:l,languageCode:r,fare:o,tagName:i}=e||{},{currencyCode:n,departureDate:s,returnDate:c,destinationAirportCode:d,formattedTravelClass:u,farenetTravelClass:p,travelClass:m,brandedFareClass:g,flightType:f,originAirportCode:h,totalPrice:b,usdTotalPrice:y,promoCode:v,siteEdition:C,redemption:_}=o||{},{unit:N}=_||{};return{module:t,moduleId:a,configuration:{redemptionType:N||"",fareClass:p||"",brandedFare:g||""},actionLabel:"Book Now",airlineIataCode:l,journeyType:f,origin:h,originAirportIataCode:h,destinationAirportIataCode:d,route:`${h}>${d}`,currencyCode:n,totalPrice:b,totalPriceUSD:y,fareClass:p,departureDate:s,returnDate:c,discountCode:v,page:[{siteEdition:C?C.replace(/[^-]*$/gi,(e=>e.toUpperCase())):"",languageIsoCode:r}],tagName:i}};var We=a(66499),Ke=a(88921),Qe=a(91668),qe=a(95573);var et=({error:e,pageError:t,contextError:a,standardFareModuleError:l,SFMOriginAirportsError:r,SFMDestinationAirportsError:o,travelClassesError:i,SFMLocationAttributesError:n,nearestOriginAirportError:s,pageData:c,standardFareModuleData:d,nearestOriginAirportData:u,id:p})=>{const m=!e&&!t&&!a&&!l&&!r&&!o&&!i&&!n&&!s&&!d,g={page:{error:t,hasData:!!c},context:{error:a},standardFareModule:{error:l,hasData:!!d},SFMOriginAirports:{error:r},SFMDestinationAirports:{error:o},travelClasses:{error:i},SFMLocationAttributes:{error:n},errorFromBE:{error:e},nearestOriginAirport:{error:s,hasData:!!u}};(0,qe.Z)("Standard Fare Module",g,{id:p,isMissingData:m})};function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(a),!0).forEach((function(t){(0,l.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const lt="em-price_widget",rt=({page:{tenant:e,slug:t,siteEdition:a,pageType:l,pageNumber:r,deviceType:o,languageCode:i}={}})=>({tenant:e,slug:t,siteEdition:a,pageType:l,pageNumber:r,deviceType:o,languageCode:i,market:a.replace("_","-").toUpperCase().split("-")[1]||null}),ot=e=>{const{params:t={}}=e,a=t.id||"",{actionDispatcher:l,urlParameters:n}=(0,r.useContext)(m.Z),{0:s,1:c}=(0,r.useState)(!1),d=(0,r.useRef)(null),{data:u,loading:p,error:f}=(0,o.a)(Pe.wn),{data:h,loading:b,error:y}=(0,o.a)(Pe.Kr,{skip:!u,variables:{page:u&&{tenant:rt(u).tenant,slug:rt(u).slug,siteEdition:rt(u).siteEdition}}}),{pageContext:v}=h||{},C=(0,Ke.Ch)(h),_=(0,Qe.k)(),{latitude:N,longitude:S}=_||{},{data:T,error:O}=(0,o.a)(Pe.kS,{skip:!_.latitude||!_.longitude||_&&_.error||b||!h||!s,variables:at({page:u&&{tenant:rt(u).tenant},geo:{latitude:N,longitude:S}},C),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",ssr:!1}),{geoLocation:{nearestOriginAirport:w={}}={}}=T||{},{geoId:D,iataCode:$}=w||{},x=v?(0,Ke.Ej)(v,w,_):null,I=x?(0,We.g)(x,n):(0,We.g)(v,n),F=I&&ze(I),{user_input_origin_airport_code:k,user_input_destination_airport_code:A,budgetRedemptionUnit:L,budgetMaximumAmount:P,productCategory:E,productType:B,departureDate:Z,returnDate:M}=n||{},j=at(at(at(at(at(at(at(at({},k&&{origin:k}),A&&{destination:A}),E&&{journeyType:E}),B&&{fareClass:B}),L&&{budgetRedemptionUnit:L}),P&&{budget:P}),Z&&{departureDate:Z}),M&&{returnDate:M}),R=!(0,ye.Qr)(_)&&!(0,ye.Qr)(w)&&$&&F.OriginAirportName&&$===F.OriginAirportName,{data:V,networkStatus:U,error:X,refetch:H,fetchMore:G}=(0,o.a)(Be,{skip:!u||!h,variables:at(at({page:u&&{tenant:rt(u).tenant,slug:rt(u).slug,siteEdition:rt(u).siteEdition},id:a,pageNumber:1,limit:20,flatContext:F},(0,ye.Qr)(j)?{}:{urlParameters:j}),R&&s?{nearestOriginAirport:{geoId:D,iataCode:$}}:{}),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),{page:{siteEdition:z,deviceType:Y}={}}=u||{},{pageContext:{geo:{language:{site_edition_country_geo_id:J=""}={}}={}}={}}=h||{},{standardFareModule:{metaData:{title:W="",subtitle:K="",footer:Q="",viewType:q="",name:ee="",journeyType:te=""}={},visualizationSettings:{includeImages:ae=!0,includeCta:le=!1,numberOfColumns:re=1,textAlignment:oe="standard",showJourneyType:ie=!1,showTravelClass:ne=!1,showFareTimestamp:se=!1,showDates:ce=!1,showTaxesFees:de=!1,carouselVisualizationType:ue="standard",ctaButtonStyle:pe="primary"}={},filterSettings:me={},sortingFilterValues:ge=[],filterRestrictions:fe={},prepopulationSettings:he={},pagination:be,fares:ve=[],error:Ce}={}}=V||{},{currentPage:_e=1,itemsPerPage:Ne=10,total:Se}=be||{},Te={displayImages:ae,includeCtaBtn:("TABLE"===q||"COLUMNS"===q)&&le,numberOfColumns:"desktop"===Y?re:1,textAlignment:oe,showJourneyType:ie,showTravelClass:ne,showFareTimestamp:se,showDates:ce,showTaxesFees:de,pagination:be,carouselVisualizationType:ue,ctaButtonStyle:pe},{showOriginFilter:Oe=!1,showDestinationFilter:we=!1,showBudgetFilter:De=!1,showTravelClassFilter:$e=!1,showBrandedTravelClassFilter:xe=!1,showtTravelDatesFilter:Fe=!1,locationAttributesFilters:ke=[],validateOriginsCountryMarket:Ae=!1,restrictOriginFilter:Ee=!1,restrictDestinationFilter:Ve=!1,showRedemptionUnitFilter:He=!1,showNumberOfStopsFilter:Ge=!1,showJourneyTypeFilter:qe=!1,showSortingFilter:tt=!1}=me||{},{origin:ot={},destination:it={}}=fe||{},nt=ke&&ke.length>0,st=ve&&Array.isArray(ve)&&ve.length>0,ct=st||Oe||we||De||$e||Fe||xe||nt||He||Ge||qe||tt,{originAirportCode:dt="",destinationAirportCode:ut="",budgetMaximumAmount:pt="",travelClass:mt="",travelDatesDeparture:gt={},travelDatesReturn:ft={},brandedTravelClasses:ht=[],locationAttributes:bt=[],redemptionUnit:yt="",numberOfStops:vt="",journeyType:Ct="",sorting:_t="",geolocation:Nt}=he||{};(0,r.useEffect)((()=>{c(Nt)}),[]);const St=[...Ae&&J?[{name:"countryGeoId",values:[J]}]:[],...Ee&&ot?[{name:null===ot||void 0===ot?void 0:ot.type,values:[null===ot||void 0===ot?void 0:ot.geoId]}]:[]],Tt={originUrlParameter:k,originNearestAirport:$,originPrepSetting:dt},Ot=(()=>{const{originUrlParameter:e,originNearestAirport:t,originPrepSetting:a}=Tt||{};return e||(t||(a||null))})(),wt={destinationUrlParameter:A,destinationPrepSetting:ut},Dt=(()=>{const{destinationUrlParameter:e,destinationPrepSetting:t}=wt||{};return e||(t||null)})(),{data:$t,networkStatus:xt,error:It,refetch:Ft}=(0,o.a)(Ze,{skip:!Oe,variables:{page:u&&{tenant:rt(u).tenant,slug:rt(u).slug,siteEdition:rt(u).siteEdition},filters:at(at({language:u&&rt(u).languageCode,market:u&&rt(u).market,getAirportType:"ORIGIN"},Dt?{selectedAirportCode:Dt}:{}),St&&St.length>0?{filterFields:St}:{})},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,ssr:!1}),{standardFareModuleAirports:{airports:kt=[]}={}}=$t||{},At=[...Ve&&it?[{name:null===it||void 0===it?void 0:it.type,values:[null===it||void 0===it?void 0:it.geoId]}]:[]],{data:Lt,networkStatus:Pt,error:Et,refetch:Bt}=(0,o.a)(Ze,{skip:!we,variables:{page:u&&{tenant:rt(u).tenant,slug:rt(u).slug,siteEdition:rt(u).siteEdition},filters:at(at({language:u&&rt(u).languageCode,market:u&&rt(u).market,getAirportType:"DESTINATION"},Ot?{selectedAirportCode:Ot}:{}),At&&At.length>0?{filterFields:At}:{})},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,ssr:!1}),{data:Zt,error:Mt}=(0,o.a)(je,{skip:!$e&&!xe&&!He,variables:{page:u&&{tenant:rt(u).tenant,slug:rt(u).slug,siteEdition:rt(u).siteEdition}},ssr:!1}),{data:jt,error:Rt}=(0,o.a)(Re,{skip:!u||!h||!Oe&&!we,variables:{page:u&&{tenant:rt(u).tenant}},ssr:!1}),{standardFareModuleAirports:{airports:Vt=[]}={}}=Lt||{},{data:Ut,networkStatus:Xt,error:Ht}=(0,o.a)(Me,{skip:!u||!h||!nt,variables:{page:u&&{tenant:rt(u).tenant,language:rt(u).languageCode}},notifyOnNetworkStatusChange:!0}),{locationAttributes:Gt=[]}=Ut||{},{organizationDisplayDefault:{searchConfig:zt={}}={}}=jt||{},Yt={originAirports:kt,originAirportsLoading:"loading"===i.I[xt],destinationAirports:Vt,destinationAirportsLoading:"loading"===i.I[Pt],locationAttributes:Gt,locationAttributesLoading:"loading"===i.I[Xt],originPrepopulation:Tt,destinationPrepopulationCode:Dt,budgetPrepopulationValue:P||pt,travelClassPrepopulationValue:mt,brandedTravelClassesPrepopulationValues:ht,redemptionUnitPrepopulationValue:yt&&yt.toUpperCase&&yt.toUpperCase(),locationAttributesPrepopulation:bt,numberOfStopsPrepopulationValue:vt&&vt.toUpperCase&&vt.toUpperCase(),journeyTypePrepopulationValue:Ct&&Ct.toUpperCase&&Ct.toUpperCase(),sortingPrepropulationValue:_t&&_t.toUpperCase&&_t.toUpperCase(),budgetRedemptionUnit:L,travelClassesData:Zt,travelDatesDeparturePrepopulation:gt,travelDatesReturnPrepopulation:ft,travelDatesJourneyType:te,searchConfig:zt};if(p||b||!ct)return null;const Jt=ve&&ve.length>0?ve[0].farenetTravelClass:"";if(Ce||f||y||X||It||Et||Mt||Rt||Ht||O||!u||!V){return et({error:Ce,pageError:f,contextError:y,standardFareModuleError:X,SFMOriginAirportsError:It,SFMDestinationAirportsError:Et,travelClassesError:Mt,SFMLocationAttributesError:Ht,nearestOriginAirportError:O,pageData:u,standardFareModuleData:V,nearestOriginAirportData:T,id:a}),null}const Wt=()=>d.current&&"function"===typeof d.current?d.current():{};return ct&&(0,g.tZ)(Ue.Z,{trackingData:{module:lt,tagName:ee,widgetId:a,fareClass:Jt},children:(0,g.tZ)(Xe.Z,{children:(0,g.tZ)(Ie.Z,{children:(0,g.tZ)(Le,{id:a,title:W,subtitle:K,footer:Q,fares:ve,viewType:q,siteEdition:z,themeNameSpace:"_standardFareModule",onFareClick:e=>{const t=e.original;l.dispatch({type:"OPEN_POPUP",payload:Ye({fare:t,tagName:ee,moduleId:a})}),l.dispatch({type:"TRACKING_OPEN_POPUP",payload:Je({moduleId:a,module:lt,tenant:rt(u).tenant,languageCode:rt(u).languageCode,fare:t,tagName:ee})})},filterFares:e=>H({filters:at({},e),urlParameters:{},nearestOriginAirport:{}}),fetchMoreFares:()=>{G({variables:{pageNumber:_e+1,limit:Ne,filters:Wt()}}),l.dispatch({type:"PUBLISH_EVENT",payload:{name:"view-more",data:{componentName:lt,moduleId:a,tagName:ee,date:(new Date).toISOString().slice(0,10)}}})},fetchPageLoadFares:()=>H({pageNumber:1,limit:Ne,filters:Wt()}),searchOriginAirports:({selectedAirportCode:e=null})=>Ft({filters:at({language:rt(u).languageCode,market:u&&rt(u).market,getAirportType:"ORIGIN",selectedAirportCode:e},St&&St.length>0?{filterFields:St}:{})}),searchDestinationAirports:({selectedAirportCode:e=null})=>Bt({filters:at({language:rt(u).languageCode,market:u&&rt(u).market,getAirportType:"DESTINATION",selectedAirportCode:e},At&&At.length>0?{filterFields:At}:{})}),viewSettings:Te,filtersData:Yt,filterSettings:me,sortingFilterValues:ge,networkStatus:i.I[U],showSFM:ct,hasFares:st,componentName:lt,tagName:ee,total:Se,registerGetFiltersPayload:e=>{d.current=e}})})})})};var it=e=>{const{lazy:t}=e;return(0,g.tZ)("div",{"data-em-cmp":lt,children:(0,g.tZ)(Ve.Z,{apply:t,children:(0,g.tZ)(ot,at({},e))})})}}}]);